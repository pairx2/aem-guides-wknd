var DeviceAtlas=DeviceAtlas||{};
DeviceAtlas=function(g,f,l,x){var e={apiVersion:"1.9.1",propsCache:"",cookieName:DeviceAtlas.cookieName||"DAPROPS",cookieExpiryDays:DeviceAtlas.cookieExpiryDays||1,cookieDomain:DeviceAtlas.cookieDomain||null,cookiePath:DeviceAtlas.cookiePath||"/",onPropertiesUpdate:"function"==typeof DeviceAtlas.onPropertiesUpdate?DeviceAtlas.onPropertiesUpdate:function(){},divStyle:null,debug:DeviceAtlas.debug||!1,ns:{svg:"http://www.w3.org/2000/svg"},cssPrfxs:["Webkit","Moz","O","ms","Khtml"],fncPrfxs:["webkit",
"moz","o","ms","khtml"],properties:DeviceAtlas.properties||{},getPropertiesAsString:function(){return this.propsCache},testCustomProperties:function(){var a=!1,b;for(b in e.properties)a=!0,q[b]=e.properties[b],y(b);a&&(e.propsCache=r(h),t(h))},getBattery:function(){return"undefined"===typeof this.battery?null:this.battery}},C="function"==typeof e.debug?e.debug:e.debug?console.log:function(){},h={},q={devicePixelRatio:function(){var a=1;try{a=g.devicePixelRatio}catch(b){}return a+""},displayColorDepth:function(){return screen.colorDepth},
cookieSupport:function(){return u()},"js.supportBasicJavaScript":function(){return"function"!=typeof alert||"function"!=typeof confirm||"function"!=typeof setTimeout||"function"!=typeof setInterval?!1:!!f.location&&!!f.forms},"js.modifyDom":function(){if(!f.createElement||!f.appendChild)return!1;var a=f.createElement("span");var b=f.createElement("div");b.appendChild(a);return b==a.parentNode},"js.modifyCss":function(){if(!f.createElement)return!1;var a=f.createElement("div");if("object"!=typeof a.style||
"undefined"==typeof a.style.display)return!1;a.style.display="none";return"none"==a.style.display},"js.supportEvents":function(){var a={submit:"form",click:"input",change:"input",load:"img",select:"input"},b;for(b in a){var c=b;if(f.createElement){var d=f.createElement(a[b]);c="on"+c;var k=c in d;k||(d.setAttribute||(d=f.createElement("div")),d.setAttribute&&d.removeAttribute&&(d.setAttribute(c,""),k="function"==typeof d[c]))}else k=!1;if(!k)return!1}return!0},"js.supportEventListener":function(){return!!g.addEventListener},
"js.xhr":function(){return"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest},"js.supportConsoleLog":function(){return"object"==typeof console&&"function"==typeof console.log},"js.json":function(){return"object"==typeof JSON&&"function"==typeof JSON.stringify},"html.audio":function(){if(!f.createElement)return!1;var a=new Boolean;var b=f.createElement("audio");try{if(a=!!b.canPlayType)a.ogg=b.canPlayType('audio/ogg; codecs="vorbis"'),a.mp3=b.canPlayType("audio/mpeg;"),a.wav=b.canPlayType('audio/wav; codecs="1"'),
a.m4a=b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")}catch(c){}return a.valueOf()},"html.canvas":function(){return!1!==!!g.CanvasRenderingContext2D},"html.inlinesvg":function(){if(!f.createElement)return!1;var a=f.createElement("div");a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==e.ns.svg},"html.svg":function(){return!!f.createElementNS&&!!f.createElementNS(e.ns.svg,"svg").createSVGRect},"html.video":function(){if(!f.createElement)return!1;var a=new Boolean;var b=
f.createElement("video");try{if(a=!!b.canPlayType)a.ogg=b.canPlayType('video/ogg; codecs="theora"'),a.h264=b.canPlayType('video/mp4; codecs="avc1.42E01E"')||b.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'),a.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"')}catch(c){}return a.valueOf()},"css.animations":function(){return v("animationName")},"css.columns":function(){return v("columnCount")},"css.transforms":function(){return!!z(["transformProperty","WebkitTransform","MozTransform",
"OTransform","msTransform"])},"css.transitions":function(){return v("transitionProperty")},"js.applicationCache":function(){return!!g.applicationCache},"js.geoLocation":function(){return!!l.geolocation},"js.indexedDB":function(){return w(g,"indexedDB")},"js.localStorage":function(){try{return!!localStorage.getItem}catch(a){return!1}},"js.sessionStorage":function(){try{return!!sessionStorage.getItem}catch(a){return!1}},"js.webGl":function(){return!!g.WebGLRenderingContext},"js.webSockets":function(){return w(g,
"WebSocket")},"js.webSqlDatabase":function(){return!!g.openDatabase},"js.webWorkers":function(){return!!g.Worker},"js.deviceOrientation":function(){return"js.deviceOrientation"in h?h["js.deviceOrientation"]:!1},"js.deviceMotion":function(){return!!g.DeviceMotionEvent},"js.touchEvents":function(){return"ontouchstart"in g},"js.querySelector":function(){return!!f.querySelector},orientation:function(){return"undefined"!=typeof g.orientation?g.orientation:null},userMedia:function(){return w(l,"getUserMedia")},
"js.accessDom":function(){return!!f.getElementById&&!!f.getElementsByTagName&&!!f.getElementsByName},deviceAspectRatio:function(){var a="2/3 40/71 3/4 16/9 16/10 375/667 9/16 10/16 375/812 207/448".split(" ");a:{try{var b=g.screen.width+"/"+g.screen.height;break a}catch(c){}b=!1}b&&a.push(b);return A("device-aspect-ratio",a)},"js.battery":function(){if(!("js.battery"in h)){var a=l.battery||l.webkitBattery||l.mozBattery;a&&(e.battery=a)}return!!e.battery},"js.webGlRenderer":function(){if(!g.CanvasRenderingContext2D)return null;
var a=f.createElement("canvas");a=a.getContext("webgl")||a.getContext("experimental-webgl");if(!a)return null;var b=a.getExtension("WEBGL_debug_renderer_info");return b&&(a=a.getParameter(b.UNMASKED_RENDERER_WEBGL))?a:null},screenWidthHeight:function(){try{return g.screen.width+"/"+g.screen.height}catch(a){}return!1},rendererRef:function(){if(!g.CanvasRenderingContext2D)return null;var a=f.createElement("canvas"),b=a.getContext("2d");b.textBaseline="top";b.font="16px 'Arial'";b.textBaseline="alphabetic";
b.rotate(.05);b.fillStyle="#f60";b.fillRect(125,1,62,20);b.fillStyle="#069";b.fillText("DeviceAtlas",2,15);b.fillStyle="rgba(102, 200, 0, 0.7)";b.fillText("DeviceAtlas",4,17);b.shadowBlur=10;b.shadowColor="blue";b.rotate(-.15);b.fillRect(-20,25,234,5);return("p3"===A("color-gamut",["p3"])?"1":"0")+B(a.toDataURL())},audioRef:function(){if("audioRef"in h)return h.audioRef;var a=null;try{if(a=new (g.OfflineAudioContext||g.webkitOfflineAudioContext)(1,44100,44100),a){var b=a.createOscillator();b.type=
"triangle";b.frequency.value=1E4;var c=a.createDynamicsCompressor();c.threshold&&(c.threshold.value=-50);c.knee&&(c.knee.value=40);c.ratio&&(c.ratio.value=12);c.reduction&&(c.reduction.value=-20);c.attack&&(c.attack.value=0);c.release&&(c.release.value=.25);b.connect(c);c.connect(a.destination);b.start(0);a.startRendering();a.oncomplete=function(d){for(var k=!1,n=0;n<d.renderedBuffer.length;n++)k=B(d.renderedBuffer.getChannelData(0)[n].toString(),k);k&&m("audioRef",k,!0);c.disconnect()}}}catch(d){}},
"js.forceTouch":function(){if("js.forceTouch"in h)return h["js.forceTouch"];try{var a=!1,b=function(c){if("touchforcechange"==c.type)try{var d=c.touches[0];"direct"==d.touchType&&.01<=d.force&&(a=!0,m("js.forceTouch",!0,!0))}catch(k){}else"touchend"==c.type&&(a||m("js.forceTouch",!1,!0))};g.addEventListener("touchforcechange",b,{once:!0,capture:!0});g.addEventListener("touchend",b,{once:!0,capture:!0})}catch(c){}}},v=function(a){var b=a.charAt(0).toUpperCase()+a.substr(1);a=(a+" "+e.cssPrfxs.join(b+
" ")+b).split(" ");return z(a)},z=function(a){if(!f.createElement)return null;null==e.divStyle&&(e.divStyle=f.createElement("div").style);if("undefined"==typeof e.divStyle)return null;for(var b in a)if("undefined"!=typeof e.divStyle[a[b]])return!0;return!1},w=function(a,b){if(a[b])return!0;for(var c=b.charAt(0).toUpperCase()+b.substr(1),d=-1,k=e.fncPrfxs.length;++d<k;)if(a[e.fncPrfxs[d]+c])return 1<k&&(e.fncPrfxs=[e.fncPrfxs[d]],e.cssPrfxs=[e.cssPrfxs[d]]),!0;return!1},A=function(a,b){if("undefined"==
typeof g.matchMedia)return null;for(var c in b)if(g.matchMedia("("+a+":"+b[c]+")").matches)return b[c]+"";return null},B=function(a,b){var c=a.length;b=b||5381;for(var d=0;d<c;d++)b=33*b^a.charCodeAt(d);return String(b>>>0)},y=function(a){try{var b=q[a]()}catch(c){C(c)}if(null==b||"undefined"==typeof b)if(b=h[a],null==b||"undefined"==typeof b)return;m(a,b)},m=function(a,b,c){c=c||!1;if(-1!=a.indexOf(".")){var d=a.split(".");"undefined"==typeof e[d[0]]&&(e[d[0]]={});e[d[0]][d[1]]=b}else e[a]=b;h[a]=
b;t(h);c&&DeviceAtlas.onPropertiesUpdate(h,e.getPropertiesAsString())},u=function(){return"undefined"==typeof l.cookieEnabled&&"string"==typeof f.cookie?!0:!!l.cookieEnabled},t=function(a){if(u()){var b=new Date;b.setDate(b.getDate()+e.cookieExpiryDays);var c="";null!=e.cookieDomain&&(c=";domain="+e.cookieDomain);e.propsCache=r(a);f.cookie=e.cookieName+'="'+e.propsCache+'";expires='+b.toUTCString()+";path="+e.cookiePath+c}},r=function(a){var b="",c;for(c in a){var d=a[c];d="boolean"==typeof d?"b":
"number"==typeof d?"i":"s";b+=d+c+":"+("b"==d?a[c]+0:a[c])+"|"}return b+"sversion:"+e.apiVersion+"|bE:0"};x=function(a){a+="=";for(var b=f.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(a))return a=d.substring(a.length,d.length),'"'==a.charAt(0)&&(a=a.substr(1)),b=a.length-1,'"'==a[b]&&(a=a.substring(0,b)),a}return""};propsCache=u()?x(e.cookieName):"";h=function(a){if(!a)return{};var b={};a=a.split("|");for(var c=0;c<a.length;c++){var d=a[c],
k=d.indexOf(":"),n=d.substr(0,1),p=d.substr(1,k-1);if("E"!=p)switch(d=d.substring(k+1),n){case "i":b[p]=1*d;break;case "b":b[p]=!!(1*d);break;default:b[p]=d}}return b}(propsCache);(function(){if(g.addEventListener&&g.removeEventListener){var a=function(b){null!=b&&null!=b.alpha&&m("js.deviceOrientation",!0);g.removeEventListener("deviceorientation",a,!1)};g.addEventListener("deviceorientation",a,!1)}})();(function(){("undefined"===typeof e.battery||null==e.battery)&&l.getBattery&&l.getBattery().then(function(a){e.battery=
a;m("js.battery",!0,!0)},function(a){})})();(function(){for(var a in q)y(a)})();e.propsCache=r(h);t(h);e.onPropertiesUpdate(h,e.getPropertiesAsString());return e}(window,document,navigator);DeviceAtlas.testCustomProperties();
