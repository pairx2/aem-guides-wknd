<!--/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  ~ Copyright 2018 Adobe
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/-->
<coral-multifield data-sly-use.childrenEditor="com.abbott.aem.adc.freestylelibrede.models.EditorModel"
                  data-sly-use.iconTemplate="icon.html"
                  data-cmp-is="childrenEditor"
                  class="cmp-childreneditor"
                  data-container-path = "${childrenEditor.container.path}">
    <coral-multifield-item data-sly-repeat.item="${childrenEditor.items}" data-name="${item.name}">
        <div class="cmp-childreneditor__item">
            <coral-icon data-sly-test.isLiveCopy="${item.isLiveCopy}"
                        class="coral-Form-fieldinfo coral3-Icon coral3-Icon--infoCircle coral3-Icon--sizeS"
                        icon="infoCircle"
                        tabindex="0"
                        size="S"
                        role="img"
                        aria-label="description"></coral-icon>
            <coral-tooltip data-sly-test="${isLiveCopy}"
                           target="_prev"
                           placement="right"
                           class="coral3-Tooltip coral3-Tooltip--info coral3-Tooltip--arrowLeft"
                           aria-hidden="true"
                           variant="info"
                           tabindex="-1"
                           role="tooltip"
                           style="z-index: 10020; max-width: 1070px; left: 205px; top: -3px;">
                <coral-tooltip-content>You have to cancel the inheritance for the panel in order to change its title.</coral-tooltip-content>
            </coral-tooltip>
            <sly data-sly-call="${iconTemplate.icon @ item=item}"></sly>
            <input is="coral-textfield"
                   class="cmp-childreneditor__item-title"
                   data-cmp-hook-childreneditor="itemTitle"
                   name="./${item.name}/cq:panelTitle"
                   value="${item.value}"
                   data-sly-attribute.disabled="${item.isLiveCopy}"
                   placeholder="${item.title}" required>
		<div class="coral-Form-fieldwrapper">
		  <label id="label_ff8302d3-c5e3-4cdf-a354-3ca36d7fd66f" class="coral-Form-fieldlabel">Select Icons</label>
		  <coral-select class="coral-Form-field hide1 coral3-Select" data-cmp-hook-childreneditor="itemImage" name="./${item.name}/iconClass" labelledby="label_ff8302d3-c5e3-4cdf-a354-3ca36d7fd66f" data-foundation-validation="" data-validation="" placeholder="" __vent-id__="2344" aria-required="false" aria-invalid="false" aria-disabled="false" aria-readonly="false">
			<button is="coral-button" class="coral3-Button coral3-Button--secondary coral3-Button--block coral3-Select-button" size="M" variant="secondary" tracking="off" handle="button" type="button" block="" aria-haspopup="true" id="coral-id-522" aria-controls="coral-id-523" aria-owns="coral-id-523" aria-expanded="false" aria-labelledby="label_ff8302d3-c5e3-4cdf-a354-3ca36d7fd66f">
			  <coral-button-label></coral-button-label>
			  <coral-icon class="coral3-Icon coral3-Select-openIcon coral3-Icon--chevronDown coral3-Icon--sizeXS" icon="chevronDown" size="XS" handle="icon" role="img" aria-label="chevron down"></coral-icon>
			  <span handle="label" class=" coral3-Select-label">Adjust</span>
			</button>
			<coral-overlay class="coral3-Overlay coral3-Select-overlay" aria-hidden="true" tracking="off" handle="overlay" trapfocus="on" tabindex="0" focusonshow="on" role="presentation" offset="-1" alignmy="left top" alignat="left bottom" style="z-index: 10020; max-width: 408.667px; left: 0.000671387px; top: -7px; min-width: 496px; display: none;">
			  <div coral-tabcapture="top" tabindex="0"></div>
			  <coral-selectlist class="coral3-SelectList coral3-Select-selectList" role="listbox" id="coral-id-523" tracking="off" handle="list" style="max-height: 252px;" aria-multiselectable="false">
				<sly data-sly-list.iconItem="${childrenEditor.genericList.items}">
				  <coral-selectlist-item class="coral3-SelectList-item" role="option" tabindex="-1" aria-selected="false" aria-disabled="false" value="${iconItem.value}" data-sly-attribute.selected="${iconItem.value == item.iconClass}">${iconItem.title ? iconItem.title : iconItem.text}</coral-selectlist-item>
				</sly>
			  </coral-selectlist>
			  <div coral-tabcapture="intermediate" tabindex="0"></div>
			  <div coral-tabcapture="bottom" tabindex="0"></div>
			</coral-overlay>
			<input handle="input" data-cmp-hook-childreneditor="itemImage" type="hidden" name="./${item.name}/iconClass" value="${item.iconClass}">
			<sly data-sly-list.iconItem="${childrenEditor.genericList.items}">
			  <coral-select-item value="${iconItem.value}" trackingelement="" data-sly-attribute.selected="${iconItem.value == item.iconClass}">${iconItem.title ? iconItem.title : iconItem.text}</coral-select-item>
			</sly>
			<input class="foundation-field-related" type="hidden" name="./${item.name}/iconClass@Delete">
		  </coral-select>
		</div>

    <div>
      <label class="coral-Form-fieldlabel">Account Nav Event</label>
      <input is="coral-textfield"
          class="cmp-childreneditor__item-accountNavEvent"
          data-cmp-hook-childreneditor="accountNavEvent"
          name="./${item.name}/accountNavEvent"
          value="${item.accountNavEvent}"
          data-sly-attribute.disabled="${item.isLiveCopy}"
          placeholder="${item.accountNavEvent}"
          style="width: 100%;">
    </div>

        </div>
    </coral-multifield-item>
    <input type="hidden" name="itemOrder" data-cmp-hook-childreneditor="order">
    <input type="hidden" name="deletedItems" data-cmp-hook-childreneditor="delete">
    <button data-cmp-hook-childreneditor="add" type="button" is="coral-button">${'Add' @ i18n}</button>
    <template coral-multifield-template="">
        <div class="cmp-childreneditor__item">
            <span class="cmp-childreneditor__item-icon"
                  data-cmp-hook-childreneditor="itemIcon"></span>
            <input is="coral-textfield"
                   class="cmp-childreneditor__item-title"
                   data-cmp-hook-childreneditor="itemTitle" required>
		<div class="coral-Form-fieldwrapper">
		  <label id="label_ff8302d3-c5e3-4cdf-a354-3ca36d7fd66f" class="coral-Form-fieldlabel">Select Icons</label>
		  <coral-select class="coral-Form-field hide1 coral3-Select" data-cmp-hook-childreneditor="itemImage" name="./${item.name}/iconClass" labelledby="label_ff8302d3-c5e3-4cdf-a354-3ca36d7fd66f" data-foundation-validation="" data-validation="" placeholder="" __vent-id__="2344" aria-required="false" aria-invalid="false" aria-disabled="false" aria-readonly="false">
			<button is="coral-button" class="coral3-Button coral3-Button--secondary coral3-Button--block coral3-Select-button" size="M" variant="secondary" tracking="off" handle="button" type="button" block="" aria-haspopup="true" id="coral-id-522" aria-controls="coral-id-523" aria-owns="coral-id-523" aria-expanded="false" aria-labelledby="label_ff8302d3-c5e3-4cdf-a354-3ca36d7fd66f">
			  <coral-button-label></coral-button-label>
			  <coral-icon class="coral3-Icon coral3-Select-openIcon coral3-Icon--chevronDown coral3-Icon--sizeXS" icon="chevronDown" size="XS" handle="icon" role="img" aria-label="chevron down"></coral-icon>
			  <span handle="label" class=" coral3-Select-label">Adjust</span>
			</button>
			<coral-overlay class="coral3-Overlay coral3-Select-overlay" aria-hidden="true" tracking="off" handle="overlay" trapfocus="on" tabindex="0" focusonshow="on" role="presentation" offset="-1" alignmy="left top" alignat="left bottom" style="z-index: 10020; max-width: 408.667px; left: 0.000671387px; top: -7px; min-width: 496px; display: none;">
			  <div coral-tabcapture="top" tabindex="0"></div>
			  <coral-selectlist class="coral3-SelectList coral3-Select-selectList" role="listbox" id="coral-id-523" tracking="off" handle="list" style="max-height: 252px;" aria-multiselectable="false">
				<sly data-sly-list.iconItem="${childrenEditor.genericList.items}">
				  <coral-selectlist-item class="coral3-SelectList-item" role="option" tabindex="-1" aria-selected="false" aria-disabled="false" value="${iconItem.value}" data-sly-attribute.selected="${iconItem.value == item.iconClass}">${iconItem.title ? iconItem.title : iconItem.text}</coral-selectlist-item>
				</sly>
			  </coral-selectlist>
			  <div coral-tabcapture="intermediate" tabindex="0"></div>
			  <div coral-tabcapture="bottom" tabindex="0"></div>
			</coral-overlay>
			<input handle="input" data-cmp-hook-childreneditor="itemImage" type="hidden" name="./${item.name}/iconClass" value="${item.iconClass}">
			<input handle="input" data-cmp-hook-childreneditor="accountNavEvent" type="hidden" name="./${item.name}/accountNavEvent" value="${item.accountNavEvent}">
			<sly data-sly-list.iconItem="${childrenEditor.genericList.items}">
			  <coral-select-item value="${iconItem.value}" trackingelement="" data-sly-attribute.selected="${iconItem.value == item.iconClass}">${iconItem.title ? iconItem.title : iconItem.text}</coral-select-item>
			</sly>
			<input class="foundation-field-related" type="hidden" name="./${item.name}/iconClass@Delete">
            <input class="foundation-field-related" type="hidden" name="./${item.name}/accountNavEvent@Delete">
		  </coral-select>
		</div>
	    <div>
	      <label class="coral-Form-fieldlabel">Account Nav Event</label>
	      <input is="coral-textfield"
	          class="cmp-childreneditor__item-accountNavEvent"
	          data-cmp-hook-childreneditor="accountNavEvent"
	          style="width: 100%;">
	    </div>
            <input type="hidden" data-cmp-hook-childreneditor="itemResourceType">
            <input type="hidden" data-cmp-hook-childreneditor="itemTemplatePath">
        </div>
    </template>
</coral-multifield>
