!function(){var e,t,r,a={23935:function(e,t,r){"use strict";r(27461);var a=r(96540),n=r(40961),o=r(10467),i=r(3453),s=r(82284),l=r(23029),c=r(92901),f=r(50388),u=r(53954),d=r(15361),m=r(64467),p=r(54756),g=r.n(p),v=r(95093),h=r.n(v),w=r(58168),y=r(16093),b=r(46005);r(8539);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,m.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=a.memo((function(e){return a.createElement(y.c.DropdownIndicator,e,a.createElement("svg",{viewBox:"0 0 100 100",className:"sim-icon"},a.createElement("use",{href:"#icon-arrow-down-color"})))})),D=function(e,t){return E({},e)},j="#ffffff",T="",C="";1==isPWA()&&(j="#464646",T="BrandonText,Arial,sans-serif",C="420");var L={clearIndicator:D,container:D,control:function(e){return E(E({},e),{},{borderColor:"#029ce8",border:"1px solid #029ce8",borderRadius:"6px",minHeight:"2.5rem",width:"100%",boxShadow:"none","&:focus":{boxShadow:"0 0 0 0.2rem rgba(0, 123, 255, 0.25)",borderColor:"#029ce8"},"&:hover":{border:"1px solid #029ce8"}})},dropdownIndicator:function(e){return E({},e)},group:D,groupHeading:D,indicatorsContainer:function(e){return E(E({},e),{},{marginRight:"1rem"})},indicatorSeparator:D,input:D,loadingIndicator:D,loadingMessage:D,menu:function(e){return E(E({},e),{},{marginBottom:0,marginTop:0})},menuList:D,menuPortal:D,multiValue:D,multiValueLabel:D,multiValueRemove:D,noOptionsMessage:D,option:function(e,t){return E(E({},e),{},{backgroundColor:t.isFocused?"#fe9e1f":"transparent",color:t.isFocused?j:"#777777",fontFamily:T,fontWeight:t.isFocused?C:"","&:hover":{backgroundColor:"#fe9e1f",color:"#ffffff"}})},placeholder:function(e){return E(E({},e),{},{fontfamily:'"Roboto Regular", Arial, sans-serif',fontSize:"1.375rem",fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:1.09,letterSpacing:"normal",color:"#002f87"})},singleValue:function(e){return E(E({},e),{},{fontFamily:'"Roboto Regular", Arial, sans-serif',fontSize:"1rem",fontWeight:"normal",fontStretch:"normal",fontStyle:"normal",lineHeight:"1.38",letterSpacing:"normal",color:"#474747"})},valueContainer:function(e){return E(E({},e),{},{padding:"0 1rem"})}},x=function(e){return a.createElement(b.Ay,(0,w.A)({className:"dropdown-single",classNamePrefix:"select",styles:L,components:{IndicatorSeparator:function(){return null},DropdownIndicator:S},onChange:e.handleChange},e))},N=r(80045),k=(r(71962),r(61615),r(41669)),A=["headers"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,m.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=r(76459),M=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(t){return t.errorCode.toString().trim()===String(e).toString()}))},B=function(e){var t=(window.errorCodeData||{}).errorCodeInfo,r=M(e,void 0===t?[]:t);return r?r.errorMessage:""},_=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=window.errorCodeData,a=(void 0===r?{}:r).errorCodeInfo,n=void 0===a?[]:a;if("function"==typeof t.done&&"function"==typeof t.fail&&"function"==typeof t.always){var o=t.status,i=t.responseJSON,l=e(void 0===i?{}:i),c=l.errorMessage;return(void 0===c?"":c)?l:M(o,n)}if("object"===(0,s.A)(t)){var f=t.errorCode,u=t.message,d=void 0===u?"":u,m=t.response,p=void 0===m?{}:m,g=p.statusReason,v=void 0===g?"":g,h=p.i18nMessageKey,w=void 0===h?"":h,y=w&&M(w,n);if(y)return y;if(v)return{errorMessage:v,errorCode:w};if(d)return{errorMessage:d,errorCode:""};if(f){var b=M(f,n);if(b)return b}return{}}return("string"==typeof t||"number"==typeof t)&&M(t,n)||{}},F=function(e,t){return new Promise((function(r,a){var n=function(e){var t=e.headers,r=void 0===t?{}:t,a=(0,N.A)(e,A),n={async:!0,crossDomain:!0,method:"POST",headers:R({"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","cache-control":"no-cache",Store:window.ABBOTT.config.storeName},r),processData:!1,contentType:"application/json"};return R(R({},n),a)}(e),o=t;ABBOTT.http.makeAjaxCall(n,o).done((function(e){r(e)})).fail((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a(t)}))}))},U=function(e){var t={};return(0,o.A)(g().mark((function r(){var a,n=arguments;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=JSON.stringify(n),t[a]=t[a]||e.apply(this,n),r.abrupt("return",t[a]);case 3:case"end":return r.stop()}}),r,this)})))},V=(P(U((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";k(".field-loader").show();var a=e||"https://ow278jgus1.execute-api.us-east-1.amazonaws.com/dev/api/registration/verify-email-exists",n=JSON.stringify({userName:t,userType:"StrongMom",captchaValue:r});return F({url:a,data:n,async:!0},!0).then((function(e){k(".field-loader").hide();var t=e.status,r=void 0!==t&&t,a=e.response,n=void 0===a?{}:a,o=e.errorCode;return!r||0!==o||(!!n.loginIdentity||void 0)})).catch((function(e){var t=e.jqXHR,r=void 0===t?{}:t;k(".field-loader").hide();var a=r.status,n=(_(a)||{}).errorMessage;return void 0===n?"Sorry, Error in verification":n}))})),750),P(U((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e||"https://ow278jgus1.execute-api.us-east-1.amazonaws.com/dev/api/registration/verify-email-exists",a=JSON.stringify({userName:t,userType:"StrongMom"});return F({url:r,data:a},!0).then((function(e){var t=e.status,r=void 0!==t&&t,a=e.response;return r?!!(void 0===a?{}:a).loginIdentity||void 0:"Sorry invalid email"})).catch((function(e){var t=e.jqXHR,r=(void 0===t?{}:t).status,a=(_(r)||{}).errorMessage;return void 0===a?"Sorry, Error in verification":a}))})),750),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e,n="";t&&(n=JSON.stringify(t));var o=R({url:a,data:n,async:!0},r);return F(o)}),z=function(e){var t=e.offerData,r=e.offerLabel;t.offerRetailer=t.assignedOfferRetailer?t.assignedOfferRetailer:t.offerRetailer,t.offerExpiryDate=t.assignedOfferExpiryDate?t.assignedOfferExpiryDate:t.offerExpiryDate,t.offerCode=t.assignedOfferCode?t.assignedOfferCode:t.offerCode,t.offerValue=t.assignedOfferValue?t.assignedOfferValue:t.offerValue,t.offerType=t.assignedOfferType?t.assignedOfferType:t.offerType;var n,o,i=h()(t.offerExpiryDate),s=h()(),l=i.diff(s,"days"),c="amazon"===t.offerRetailer.toLowerCase(),f="tbuniversal"===t.offerRetailer.toLowerCase()&&"universaldo"===t.offerType.toLowerCase(),u="tbuniversal"===t.offerRetailer.toLowerCase()&&"gguniversaldo"===t.offerType.toLowerCase(),d="tpg"===t.offerRetailer.toLowerCase()&&"tpgbogo12do"===t.offerType.toLowerCase(),m="tpg"===t.offerRetailer.toLowerCase(),p=[];if(r.tpgOffers.map((function(e){e.offerType===t.offerType.toLowerCase()&&(p=e)})),c){5===t.offerValue?r.saveFiveImgUrl:r.saveTenImgUrl;o=r.amazonOffer.imgSMUrl,n=r.amazonOffer}else m?(o=p.tpgOfferImage,n=p):f?(o=r.tpgImgUrl,n=r.unassignedOffer):u&&(o=r.ggImgUrl,n=r.unassignedOffer);var g=function(e,t,r){window.sessionStorage.removeItem("ObjectCardData"),window.sessionStorage.setItem("couponCode",t),window.sessionStorage.setItem("ObjectCardData",JSON.stringify(r)),window.location=e},v={title:n.title,Offervalue:t.offerValue,OfferTypelabel:n.showOfferValue,offerPara:d?p.newOffer.subTitle:n.subTitle,validDays:l,moredaysLabel:r.moreDaysLabel,offerImg:o,OfferRetailer:t.offerRetailer,OfferType:t.offerType,tpgOfferImg:p.tpgOfferImage,earnPointsText:d?"":r.earnPointsText};return a.createElement(a.Fragment,null,l>=0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"card-offer-wrap col-12 col-lg-4 "},a.createElement("div",{className:"pwa-offer-container"},a.createElement("div",{className:"pwa-offer-card-left col-9"},a.createElement("div",null,a.createElement("h4",{className:"pwa-offer-card-heading"},a.createElement("span",{dangerouslySetInnerHTML:{__html:n.title}}),t.offerValue&&n.showOfferValue&&" $"+t.offerValue+" ",d?a.createElement(a.Fragment,null,a.createElement("div",{className:"pwa-offer-card-earnPoints-bogo",dangerouslySetInnerHTML:{__html:r.earnPointsText}})):a.createElement(a.Fragment,null,a.createElement("span",{className:"pwa-offer-card-earnPoints",dangerouslySetInnerHTML:{__html:r.earnPointsText}})))),a.createElement("div",{className:"pwa-offer-card-para"},d&&a.createElement(a.Fragment,null,a.createElement("span",{className:"bogo-subTitle",dangerouslySetInnerHTML:{__html:p.newOffer.subTitle}})),a.createElement("span",{dangerouslySetInnerHTML:{__html:n.subTitle}})," ",a.createElement("span",{className:"pwa-days"},l," ",r.moreDaysLabel)),(f||u)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"pwa-offer-card-link"},a.createElement("a",{"data-gtm":r.dataGtmLabel,onClick:function(){return g(r.retailerPageURL,t.offerCode,v)}},r.buttonLabelSelectRetailer))),!f&&!u&&!d&&a.createElement(a.Fragment,null,a.createElement("div",{className:"pwa-offer-card-link"},a.createElement("a",{"data-gtm":r.dataGtmRedeemOffer,onClick:function(){return g(r.shippingLink,t.offerCode,v)}},r.buttonLabelRedeem))),d&&a.createElement(a.Fragment,null,a.createElement("div",{className:"pwa-offer-card-link"},a.createElement("a",{"data-gtm":r.dataGtmRedeemOffer,onClick:function(){return g(r.retailerCouponPageURL,t.offerCode,v)}},p.newOffer.buttonLabel)))),(f||u)&&a.createElement(a.Fragment,null,a.createElement("div",{className:"pwa-offer-card-right"},a.createElement("img",{src:o,className:"product-img w-100",alt:""}))),!f&&!u&&a.createElement(a.Fragment,null,a.createElement("div",{className:"pwa-offer-card-right"},a.createElement("img",{src:o,className:"product-img w-100",alt:""})))))))},q=function(e){var t=(0,a.useState)(!1),r=(0,i.A)(t,2),n=r[0],o=(r[1],(0,a.useState)(!1)),s=(0,i.A)(o,2),l=s[0],c=(s[1],(0,a.useState)("")),f=(0,i.A)(c,2),u=(f[0],f[1],(0,a.useState)("")),d=(0,i.A)(u,2),m=(d[0],d[1],(0,a.useState)("")),p=(0,i.A)(m,2),g=(p[0],p[1],e.offerData),v=e.offerLabel;e.retailerLabel,e.aemData,e.barCode;g.offerRetailer=g.assignedOfferRetailer?g.assignedOfferRetailer:g.offerRetailer,g.offerExpiryDate=g.assignedOfferExpiryDate?g.assignedOfferExpiryDate:g.offerExpiryDate,g.offerCode=g.assignedOfferCode?g.assignedOfferCode:g.offerCode,g.offerValue=g.assignedOfferValue?g.assignedOfferValue:g.offerValue,g.offerType=g.assignedOfferType?g.assignedOfferType:g.offerType;var w,y,b,O=h()(g.offerExpiryDate),E=h()(),S=O.diff(E,"days");w=v.newOfferTarget;var D=g.offerRetailer,j=g.offerType;g.offerType&&("target_cc"===g.offerType.toLowerCase()?(y=!0,D="target-online"):"target_bc"===g.offerType.toLowerCase()&&(b=!0,D="target-in-store"));var T=function(e,t,r){window.sessionStorage.removeItem("ObjectCardData"),window.sessionStorage.setItem("couponCode",t),window.sessionStorage.setItem("ObjectCardData",JSON.stringify(r)),window.location=e},C={title:w.title,Offervalue:g.offerValue,OfferTypelabel:w.showOfferValue,offerPara:w.subTitle1,validDays:S,moredaysLabel:v.moreDaysLabel,offerImg:v.targetImgUrl,OfferRetailer:D,OfferType:j,earnPointsText:v.earnPointsText};return a.createElement(a.Fragment,null,S>=0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"card-offer-wrap col-12 col-lg-4 "},a.createElement("div",{className:"pwa-offer-container"},a.createElement("div",{className:"pwa-offer-card-left col-9"},a.createElement("div",null,a.createElement("h4",{className:"pwa-offer-card-heading"},a.createElement("span",{dangerouslySetInnerHTML:{__html:w.title}})," "," "," $"+g.offerValue," "," ",a.createElement("span",{className:"pwa-offer-card-earnPoints",dangerouslySetInnerHTML:{__html:null==v?void 0:v.earnPointsText}}))),a.createElement("div",{className:"pwa-offer-card-para"},a.createElement("span",{dangerouslySetInnerHTML:{__html:w.subTitle1}})," ",a.createElement("span",{className:"pwa-days"},S," ",v.moreDaysLabel)),!n&&!l&&a.createElement("div",{className:"pwa-offer-card-link"},y&&a.createElement("a",{"data-gtm":v.dataGtmRedeemOffer,onClick:function(){return T(v.shippingLink,g.offerCode,C)}},v.buttonLabelRedeem),b&&a.createElement("a",{"data-gtm":v.dataGtmRedeemOffer,onClick:function(){return T(v.shippingLink,g.offerCode,C)}},v.buttonLabelRedeem))),a.createElement("div",{className:"pwa-offer-card-right"},a.createElement("img",{src:v.targetImgUrl,className:"product-img w-75",style:{paddingLeft:"10"},alt:""}))))))};var G=function(e){var t=e.currentOffers.markAsRedeemed,r=t.dataGtmLabel+"-yes",n=t.dataGtmLabel+"-no";return a.createElement(a.Fragment,null,a.createElement("div",{className:"Fill"},a.createElement("p",{className:"Do-you-want-to-mark"},t.redeemSelection,a.createElement("br",null),a.createElement("br",null),t.redeemNote),a.createElement("a",{className:"btn btn-secondary col-12 mt-3","data-gtm":r,style:{background:"#fff",cursor:"pointer"},onClick:e.offerActivated},t.submitRedeemLabel),a.createElement("a",{href:"javscript:void(0)",className:"No","data-gtm":n,onClick:e.isEnableOffer},t.cancelRedeemLabel)))},H=function(e){var t=e.switchToDigitalTitle,r=e.switchToDigitalDesc,n=e.switchToDigitalBtn;return a.createElement(a.Fragment,null,a.createElement("div",{className:"non-do-with-no-offer"},a.createElement("div",{className:"non-do-header"},t),a.createElement("div",{className:"non-do-para-one",dangerouslySetInnerHTML:{__html:r}}),a.createElement("div",{className:"non-do-btn"},a.createElement("button",{type:"button",className:"btn btn-primary col-10 col-lg-8 non-do-btn","data-gtm":"rewards|click|pwa_switch-to-digital_go-digital",onClick:function(){return e.confirmCouponPopup()}},n))))},J=function(e){var t=e.switchToDigitalDisclaimer;return a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("div",{className:"non-do-footer",dangerouslySetInnerHTML:{__html:t}})))},W=function(e){var t=e.congratsTitle,r=e.congratsDesc1,n=e.congratsDesc2,o=e.congratsDisclaimer;return a.createElement(a.Fragment,null,a.createElement("div",{className:"non-do-with-no-offer"},a.createElement("div",{className:"non-do-header"},t),a.createElement("div",{className:"non-do-para-one-congrats",dangerouslySetInnerHTML:{__html:r}}),a.createElement("div",{className:"non-do-para-two-congrats",dangerouslySetInnerHTML:{__html:n}}),a.createElement("div",{className:"non-do-footer",dangerouslySetInnerHTML:{__html:o}})))},Q=r(84432),Y=r.n(Q),X=r(41669);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){(0,m.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=document.getElementById("wrong-qr-scan_url"),ee=function(e){var t=(0,a.useState)(!1),r=(0,i.A)(t,2),n=r[0],s=r[1],l=function(){var e=(0,o.A)(g().mark((function e(t){var r,a,n,o,i,l,c,f,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X("#overlay").hide(),!t){e.next=21;break}if(X("#qr-scan-progress-popup").modal("show"),s(!1),r=t.split("?c="),!(a=r[1])){e.next=15;break}ABBOTT.removeCookie("gpasScannedId; path=/; domain=.similac.com"),n={path:"/",domain:"similac.com",secure:!0,HttpOnly:!0},ABBOTT.cookie("gpasScannedId",a,n),X("#qr-scan-progress-popup").modal("show"),o=a,checkLogin()&&o&&(i=ABBOTT.cookie("scan"),l=JSON.parse(i),"similac-ssm"==ABBOTT.utils.getActualUserType()?(c=findValueFromJson(window.jsonData.fields,"product-lookup"),getGpasProductData(c.value).then((function(e){redirectToValidScreenWithScan(l)}))):(ABBOTT.removeCookie("profile; path=/; domain=.similac.com"),ABBOTT.removeCookie("x-id-token; path=/; domain=.similac.com;"))),e.next=21;break;case 15:return f=_("INVALID-QR-CODE")||{},u=f.errMessage,void 0===u?B("INVALID-QR-CODE"):u,dataLayer.push({event:"ga-custom-events",eventCategory:"camera-scan",eventAction:"error",eventLabel:"pwa_wrong-qr-code-scanned_error-message"}),window.location.pathname=K?K.value:"",X("#overlay").hide(),X("#qr-scan-progress-popup").modal("hide"),e.abrupt("return",error);case 21:X("#overlay").hide();case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();checkIOSVersion=function(){var e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);if(null!==e&&e.length>1){var t=parseInt(e[1],10),r=e[2]?parseInt(e[2],10):0;return parseFloat("".concat(t,".").concat(r))}return null},checkLogin=function(){return ABBOTT.cookie("x-id-token")},findValueFromJson=function(e,t){return e.find((function(e){return e.id==t}))},redirectToValidScreenWithScan=function(e){var t=e.loyaltyScanBonusesEarnedState,r=e.loyaltyScansSinceLastRewardState,a=e.gpasScansTodayLimit,n=findValueFromJson(window.jsonData.fields,"dailyScanLimit");n=n.value;var o=findValueFromJson(window.jsonData.fields,"loyaltyScanLimit");o=o.value;var i=findValueFromJson(window.jsonData.fields,"scan-confirmation");i=i.value;var s=findValueFromJson(window.jsonData.fields,"scan-limit");s=s.value;var l=findValueFromJson(window.jsonData.fields,"scan-bonus");l=l.value;var c=findValueFromJson(window.jsonData.fields,"scan-double-bonus");c=c.value,ABBOTT.removeCookie("gpasScannedId; path=/; domain=.similac.com"),window.location=a>=n||r>o?s:t>=2?c:r==o?l:i},getGpasProductData=function(){var e=(0,o.A)(g().mark((function e(t){var r,a,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ABBOTT.cookie("gpasScannedId"),a={code:r,userLanguage:navigator.language||navigator.userLanguage},n={url:t,method:"POST",contentType:"application/json",headers:{"content-type":"application/json","x-country-code":"US","x-application-id":"ansimilacprdchk","x-preferred-language":"en"},data:JSON.stringify(a)},e.next=5,F(n).then((function(e){var t=e.response,r=e.errorCode;if(X("#overlay").hide(),"400"==r){var a=(_("INVALID-QR")||{}).errMessage;void 0===a&&B("INVALID-QR");return dataLayer.push({event:"ga-custom-events",eventCategory:"camera-scan",eventAction:"error",eventLabel:"pwa_wrong-qr-code-scanned_error-message"}),window.location.pathname=K?K.value:"",X("#overlay").hide(),X("#qr-scan-progress-popup").modal("hide"),fail}if(""!=r){var n=(_("INVALID-QR-CODE")||{}).errMessage;void 0===n&&B("INVALID-QR-CODE");return dataLayer.push({event:"ga-custom-events",eventCategory:"camera-scan",eventAction:"error",eventLabel:"pwa_wrong-qr-code-scanned_error-message"}),window.location.pathname=K?K.value:"",X("#overlay").hide(),X("#qr-scan-progress-popup").modal("hide"),fail}var o=t,i=[],s=o.attributes,l=findValueFromJson(window.jsonData.fields,"exceptional-sku-list");if(l=l.value,s||0!==e.errorCode){if(void 0!==s&&0===e.errorCode)for(var c in s)if("-1"!=s[c].name.indexOf("date"))i.push([camelizeStr(s[c].name),formatDate(s[c].value)]);else{if("SKU"===s[c].name&&l.includes(s[c].value)){var f=_("INVALID-QR").errMessage;void 0===f&&B("INVALID-QR");return dataLayer.push({event:"ga-custom-events",eventCategory:"camera-scan",eventAction:"error",eventLabel:"pwa_wrong-qr-code-scanned_error-message"}),window.location.pathname=K?K.value:"",X("#overlay").hide(),X("#qr-scan-progress-popup").modal("hide"),fail}i.push([camelizeStr(s[c].name),s[c].value])}}else;var u=arrayToObj(i),d={category:"gpas",gpasActivityInfo:[]},m=o.location;0===Object.keys(m).length&&(m=null);var p=(new Date).toISOString().replace(/\.\d{3}Z$/,"Z"),g=$($({},{code:o.code,location:m,authenticationAttempts:o.authenticationAttempts,productName:o.product.name,reason:o.reason,scanDate:p}),u);d.gpasActivityInfo.push(g);var v={headers:{"x-id-token":checkLogin()}};return X("#overlay").hide(),V(window.jsonData.actionPathToUpdateProfile,d,v).then((function(e){return e}))}),(function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var c=function(){s(!1)};return camelizeStr=function(e){return(e=(e=e.toLowerCase()).split(" ").map((function(e){return e.trim()})).map((function(e){return e[0].toUpperCase()+e.substring(1)})).join("")).charAt(0).toLowerCase()+e.slice(1)},formatDate=function(e){var t=new Date(e),r=""+(t.getMonth()+1),a=""+t.getDate(),n=t.getFullYear();return r.length<2&&(r="0"+r),a.length<2&&(a="0"+a),[n,r,a].join("-")},arrayToObj=function(e){var t={};return e.forEach((function(e){var r=e[0],a=e[1];t[r]=a})),t},a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("button",{className:"scannerButton ".concat(e.scanButtonClass),onClick:function(){s(!0),X("#template").hide()},"data-gtm":"".concat(e.scanGtm)},e.scanButtonLabel,a.createElement("img",{src:"/content/dam/an/similac/global/icons/camera.png"})),n&&a.createElement(a.Fragment,null,a.createElement("div",{className:"scanner-modal"},a.createElement("div",{className:"scanner-content"},a.createElement(Y(),{constraints:{facingMode:"environment"},delay:300,onError:function(e){var t=checkIOSVersion();if("NotAllowedError"==e.name||"PermissionDeniedError"==e.name){var r=(_("CAMERA-STATE-DENIED")||{}).errMessage,a=void 0===r?B("CAMERA-STATE-DENIED"):r;dataLayer.push({event:"ga-custom-events",eventCategory:"camera-scan",eventAction:"error",eventLabel:"pwa_camera-access-denied_error-message"})}else if(null!==t&&t<15.1)a=_("INVALID-IOS-VERSION")||{};else{a=_("GEN_ERR");dataLayer.push({event:"ga-custom-events",eventCategory:"pwa-generic-error",eventAction:"error",eventLabel:"pwa_oops-temporary-issue-try-again-later_error-message"})}X("#template").css({"background-color":"#e4002b"}),X("#template.global-error p").css({color:"#ffffff"}),X("#template.global-error p").html(a),X("#template").show(),X("#overlay").hide(),X("#qr-scan-progress-popup").modal("hide"),c()},onScan:l,style:{width:"100%"}}),a.createElement("button",{onClick:c},"Close"))))))},te=function(e){var t=e.scanModuleHeading,r=e.scanModuleDesc,n=e.scanModuleImage,o=e.scanButtonLabel,i=e.scanButtonClass,s=e.scanFacingMode,l=e.scanGtm;return a.createElement(a.Fragment,null,a.createElement("div",{className:"row mx-0 offer-cards-wrapper"},a.createElement("div",{className:"card-offer-wrap col-12 col-lg-4 "},a.createElement("div",{className:"pwa-get-more-offer-container"},a.createElement("div",{className:"pwa-get-more-offer-card-left col-7"},a.createElement("div",null,a.createElement("h4",{className:"pwa-get-more-offer-card-heading",dangerouslySetInnerHTML:{__html:t}})),a.createElement("div",{className:"pwa-get-more-offer-card-para",dangerouslySetInnerHTML:{__html:r}}),a.createElement("div",{className:"qr-camera"},a.createElement(ee,{scanButtonLabel:o,scanButtonClass:i,scanFacingMode:s,scanGtm:l}))),a.createElement("div",{className:"pwa-offer-card-right"},a.createElement("img",{src:n,className:"product-img get-more-point-img",alt:""}))))))},re=r(41669);function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,m.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t=(0,u.A)(t),(0,f.A)(e,ie()?Reflect.construct(t,r||[],(0,u.A)(e).constructor):t.apply(e,r))}function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}var se=function(e){function t(e){var r;(0,l.A)(this,t),r=oe(this,t,[e]),(0,m.A)(r,"navigateToSmsPage",(function(){ABBOTT.cookie("pwa_sms",JSON.stringify({pwa_sms:!0}),{path:"/",domain:"similac.com",expires:1e3})})),(0,m.A)(r,"getProfileInfo",(function(){var e={url:r.aemData.actionPathGetProfile,method:"GET",headers:{"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","x-id-token":ABBOTT.utils.getSessionInfo()}};F(e).then((function(e){var t=ABBOTT.cookie("profile"),a=JSON.parse(t);if(e.status){var n,o,i,l,c,f,u,d,m,p,g,v,w,y,b,O,E,S,D,j,T=null===(n=e.response)||void 0===n?void 0:n.children.findIndex((function(e){var t=e.activeChild;return void 0===t||t}));if(void 0!==(0,s.A)(T)){var C,L,x;(null==e||null===(C=e.response)||void 0===C||null===(C=C.children[T])||void 0===C?void 0:C.loyaltyScanBonusesEarned)>1&&r.setState({isLoyaltyScanBonusesEarned:!0});var N,k;N=null===(L=e.response)||void 0===L||null===(L=L.children[T])||void 0===L?void 0:L.loyaltyScanBonusesEarned,k=null===(x=e.response)||void 0===x||null===(x=x.children[T])||void 0===x?void 0:x.loyaltyScansSinceLastReward;var A=e.response.userInfo.gpasScansToday;ABBOTT.cookie("scan",JSON.stringify({loyaltyScanBonusesEarnedState:N,loyaltyScansSinceLastRewardState:k,gpasScansTodayLimit:A}),{path:"/",domain:"similac.com"})}if(e.response&&e.response.optPreferences&&(S=e.response.optPreferences.filter((function(e){var t;return null===(t=e.channel)||void 0===t?void 0:t.includes("SMS")}))),S.length>0){if(S.length>1)D=S.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))[0];else D=S[0];j=new Date(D.date)}var I=new Date("2023-01-15");if(e.response&&e.response.optPreferences&&"TBUNIVERSAL"==(null===(o=e.response.offerPreferenceInfo)||void 0===o?void 0:o.retailer)){var R,P,M,_,F=e.response.userInfo&&e.response.userInfo.userName?e.response.userInfo.userName:"",U=ABBOTT.cookie("pwaNotificationStatus"+F);U&&(_=JSON.parse(U));var V=window.sessionStorage.getItem("convertedToDo");_&&null!=_||V||!(0==(null===(R=e.response.contacts)||void 0===R?void 0:R.length)||e.response.contacts>0&&""==e.response.contacts[0].number||(null===(P=e.response.contacts)||void 0===P?void 0:P.length)>0&&""!=e.response.contacts[0].number&&S.length>0&&j&&j.getTime()<I.getTime()||(null===(M=e.response.contacts)||void 0===M?void 0:M.length)>0&&""!=e.response.contacts[0].number&&S.length<1)||r.navigateToSmsPage()}else e.response&&e.response.optPreferences&&!e.response.offerPreferenceInfo.hasOwnProperty("retailer")&&(r.setState({isNonDigitalUser:!0}),r.setState({isNonDoWithNoOffer:!0}));r.setState({profileInfo:e.response});var z=e.response,q=void 0===z?{}:z,G=q.userInfo,H=void 0===G?{}:G,J=H.userType,W=(H.uid,q.offerPreferenceInfo),Q=q.children,Y=ABBOTT.utils.getActualUserType();if("similac-ecom"===J){var X=r.state.profileInfo&&r.state.profileInfo.addresses&&r.state.profileInfo.addresses[0],Z=X.lineOne,$=void 0===Z?"":Z,K=X.lineTwo,ee=void 0===K?"":K,te=X.country,ae=void 0===te?"":te,oe=X.city,ie=void 0===oe?"":oe,se=X.state,le=void 0===se?"":se,ce=X.zipCode,fe=void 0===ce?"":ce;ABBOTT.cookie("profile",JSON.stringify(ne(ne({},a),{},{lineOne:$,lineTwo:ee,country:ae,city:ie,state:le,zipCode:fe})),{path:"/",domain:"similac.com"}),r.setState({showSignUp:!0})}else r.setState({showSignUp:!1});var ue=!1;e.response.children.forEach((function(e,t){Q[t].offers&&Q[t].offers.length>0&&(ue=!0)})),Y!==J&&ABBOTT.utils.profileUpdate("userType",J),!W.retailer||"tbuniversal"!==W.retailer.toLowerCase()&&"tpg"!==W.retailer.toLowerCase()&&"amazon"!==W.retailer.toLowerCase()&&"target"!==W.retailer.toLowerCase()||r.setState({DOShowThanksMessage:!ue}),e.response.children.forEach((function(t,r){var a=e.response.children[r].offers&&e.response.children[r].offers.filter((function(e,t){return!e.offerUsedDate})).reduce((function(e,t){return e.some((function(e){return e.offerCode===t.offerCode}))||e.push(t),e}),[]);e.response.children[r].offers=a}));var de,me=null===(i=e.response.children)||void 0===i?void 0:i.sort((function(e,t){var r=e.birthDate,a=void 0===r?"":r,n=t.birthDate,o=void 0===n?"":n;return new Date(a)-new Date(o)})).filter((function(e){var t=e.deleted;return!(void 0!==t&&t)})),pe=[],ge=[],ve=[],he=[],we=(window.localStorage.getItem("selectedCouponCode"),!1);if(null===(l=e.response.children)||void 0===l||l.map((function(e){var t;null===(t=e.offers)||void 0===t||t.map((function(e){"newoffer"===e.type.toLowerCase()?pe.push(e):"expiringsoon"===e.type.toLowerCase()&&"tbuniversal"!==e.offerRetailer.toLowerCase()?ge.push(e):"expiringsoon"===e.type.toLowerCase()&&"tbuniversal"===e.offerRetailer.toLowerCase()?ve.push(e):"expiringlater"===e.type.toLowerCase()&&he.push(e)}))})),r.setState({newOfferSorted:null===(c=r.getUniqueOffers(pe))||void 0===c?void 0:c.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))}),r.setState({expiringSoonOfferSorted:null===(f=r.getUniqueOffers(ge))||void 0===f?void 0:f.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)})).concat(null===(u=r.getUniqueOffers(ve))||void 0===u?void 0:u.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)})))}),r.setState({expiringLaterOfferSorted:null===(d=r.getUniqueOffers(he))||void 0===d?void 0:d.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))}),r.setState({allTypeOffer:(null===(m=r.getUniqueOffers(pe))||void 0===m?void 0:m.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))).concat(null===(p=r.getUniqueOffers(he))||void 0===p?void 0:p.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))).concat(null===(g=r.getUniqueOffers(ge))||void 0===g?void 0:g.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)})).concat(null===(v=r.getUniqueOffers(ve))||void 0===v?void 0:v.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))))}),r.setState({allPreserveOffer:(null===(w=r.getUniqueOffers(pe))||void 0===w?void 0:w.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))).concat(null===(y=r.getUniqueOffers(he))||void 0===y?void 0:y.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))).concat(null===(b=r.getUniqueOffers(ge))||void 0===b?void 0:b.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)})).concat(null===(O=r.getUniqueOffers(ve))||void 0===O?void 0:O.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))))}),r.state.expiringSoonOfferSorted.length>0&&r.state.expiringSoonOfferSorted.forEach((function(e){e.isActiveCode=!0})),r.state.expiringLaterOfferSorted.length>0&&r.state.expiringLaterOfferSorted.forEach((function(e){e.isActiveCode=!0})),(r.state.newOfferSorted.length>0||r.state.expiringLaterOfferSorted.length>0)&&(r.setState({showNewOffer:!0}),r.state.newOfferSorted.length>0&&r.setState({expiringOfferCount:!0})),r.state.expiringSoonOfferSorted.length>0&&r.setState({showExpiringOffers:!0}),me.length&&(de=me[me.length-1]),de){var ye=h()(de.birthDate).format("MM/DD/YYYY"),be=h()();be.diff(ye,"weeks")>0&&(ye=h()(ye).add(1,"day"));var Oe=be.diff(ye,"weeks");Oe>=-39&&Oe<=64&&r.setState({showCoupons:!0,isChildDoEligible:!0})}var Ee=e.response;r.setThankOffer(W),null===(E=Ee.children)||void 0===E||E.map((function(e){var t;(null===(t=e.offers)||void 0===t?void 0:t.length)>0&&(we=!0,e.offers.map((function(e){r.checkDuplicateOffer(e,W.offerCode)})))})),we&&r.setState({showCoupons:!0})}if(500===e.errorCode&&a.oasisEmail&&(a.oasisEmail.toLowerCase()===a.email.toLowerCase()||a.contactEmail&&a.oasisEmail.toLowerCase()===a.contactEmail.toLowerCase())){var Se=B("OASIS-500");re("#template.global-error p").html(Se),re("#template").show(),re("html, body").animate({scrollTop:0},"slow")}else if(500===e.errorCode){var De=B("GEN_ERR");re("#template.global-error p").html(De),re("#template").show()}else r.setState({formError:B("GEN_ERR")})}),(function(e){if(500===results.errorCode){var t=B("GEN_ERR");re("#template.global-error p").html(t),re("#template").show()}else r.setState({formError:B("GEN_ERR")})}))})),(0,m.A)(r,"getUniqueOffers",(function(e){return e&&e.reduce((function(e,t){return e.some((function(e){return e.offerCode===t.offerCode}))||e.push(t),e}),[])})),(0,m.A)(r,"setThankOffer",(function(e){if(e.offerExpiryDate){var t=h()(e.offerExpiryDate),a=h()(),n=t.diff(a,"days");e.offerRetailer&&e.offerCode&&n>=0&&r.setState({showCoupons:!0})}})),(0,m.A)(r,"checkDuplicateOffer",(function(e,t){r.state.duplicateOffer||e.offerCode&&e.offerCode===t&&r.setState({duplicateOffer:!0})})),(0,m.A)(r,"submitRedeem",(function(e,t){var a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),a.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(a);var n={category:"redeemOffer",offerPreferenceInfo:{offerCode:t}},o={headers:{"x-id-token":ABBOTT.utils.getSessionInfo()}};V(r.aemData.actionPath,n,o).then((function(t){return r.getProfileInfo(),navigator.platform.toLowerCase().match(/(mac|iphone|ipod|ipad)/)?window.open(e,"_self"):window.open(e,"_blank"),t}),(function(e){}))})),(0,m.A)(r,"submitMarkRedeem",(function(e,t,a,n,o){var i=r.state,s=i.expiringSoonOfferSorted,l=i.expiringLaterOfferSorted;i.newOfferSorted;switch(e){case"expiringSoonOfferSorted":Object.keys(s).forEach((function(e){s[e].isActiveCode=e!=o})),Object.keys(l).forEach((function(e){l[e].isActiveCode=!0})),r.setState(ne({},r.state));break;case"expiringLaterOfferSorted":Object.keys(l).forEach((function(e){l[e].isActiveCode=e!=o})),Object.keys(s).forEach((function(e){s[e].isActiveCode=!0})),r.setState(ne({},r.state))}})),(0,m.A)(r,"isEnableOffer",(function(e,t,a){switch(e){case"expiringSoonOfferSorted":r.state.expiringSoonOfferSorted[a].isActiveCode=!t.isActiveCode,r.setState(ne({},r.state));break;case"expiringLaterOfferSorted":r.state.expiringLaterOfferSorted[a].isActiveCode=!t.isActiveCode,r.setState(ne({},r.state))}})),(0,m.A)(r,"offerActivated",(function(e){var t={category:"markRedeem",offerPreferenceInfo:{offerCode:e.offerCode}},a={headers:{"x-id-token":ABBOTT.utils.getSessionInfo()}};V(r.aemData.actionPath,t,a).then((function(e){var t=e.errorCode,r=(e.response,e.status);0===t&&!0===r&&window.location.reload()})).catch((function(e){(0,i.A)(e,1)[0];if(500===result.errorCode){var t=B("GEN_ERR");re("#template.global-error p").html(t),re("#template").show(),re("html, body").animate({scrollTop:0},"slow")}else r.setState({formError:B(result.errorCode)})}))})),(0,m.A)(r,"sortingCoupon",(function(e){var t=e.value.split(":"),a=r.state,n=(a.allTypeOffer,a.allPreserveOffer);switch(t[0]){case"offerExpiryDate":r.setState({allTypeOffer:null==n?void 0:n.sort((function(e,t){var r=e.offerExpiryDate,a=void 0===r?"":r,n=t.offerExpiryDate,o=void 0===n?"":n;return new Date(a)-new Date(o)}))});break;case"offerValue":r.setState({allTypeOffer:null==n?void 0:n.sort((function(e,t){var r=e.offerValue,a=void 0===r?"":r,n=t.offerValue;return(void 0===n?"":n)-a}))});break;case"type":r.setState({allTypeOffer:null==n?void 0:n.filter((function(e){return"TBUNIVERSAL"!=e.offerRetailer}))})}})),r.aemData=e.aemData;r.aemData.purchaserOnlyOffer;return r.state={profileInfo:{},newOfferSorted:{},expiringSoonOfferSorted:{},expiringLaterOfferSorted:{},allTypeOffer:{},allPreserveOffer:{},showNewOffer:!1,showExpiringOffers:!1,showCoupons:!1,showPaperMsg:!1,zeroActiveChild:!1,duplicateOffer:!1,DOShowThanksMessage:"",expiringOfferCount:"",switchAuto:!1,isNonDigitalUser:!1,isGetMoreDisplay:"",isNonDoWithNoOffer:!1,isConvertedDo:!1,toggleNonDoPopup:!1,isLoyaltyScanBonusesEarned:!1,isChildDoEligible:!1},r}return(0,d.A)(t,e),(0,c.A)(t,[{key:"componentDidMount",value:function(){var e=ABBOTT.cookie("profile"),t=JSON.parse(e),r=t.contactEmail?t.contactEmail.toLowerCase():"";!t.oasisBannerClosed&&t.oasisEmail&&t.oasisEmail.toLowerCase()!==t.email.toLowerCase()&&t.oasisEmail.toLowerCase()!==r&&(re("#template.global-error p").html(this.aemData.currentOffers.hcpInfo.errorText).addClass("error-pr-20"),re("#template").addClass("oasis-error-box").show(),re("html, body").animate({scrollTop:0},"slow"));ABBOTT.utils.getActualUserType();if(window.sessionStorage.getItem("switchToDigital")&&(this.setState({isConvertedDo:!0}),this.setState({isNonDoWithNoOffer:!1})),window.sessionStorage.removeItem("assignedRetailer"),"similac-ecom"!=t.userType){var a=window.location.hash.slice(1);window.location.hash="","thanksPaper"===a&&this.setState({showPaperMsg:!0})}this.getProfileInfo(),re("#overlay").show(),setTimeout((function(){re("#overlay").css("display","none")}),4e3),ABBOTT.gtm.buildAndPush.formTracking("pwa-load","load","pwa_start-url"),"rewards"==window.sessionStorage.getItem("tabName")&&(re(".nav-tabs a:eq(1)").tab("show"),window.sessionStorage.removeItem("tabName")),re("#locate-qr-code-link").click((function(e){window.sessionStorage.setItem("tabName","rewards")}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.landingToRedirect)}},{key:"render",value:function(){var e,t,r=this,n=this.state,s=n.showCoupons,l=n.showPaperMsg,c=n.zeroActiveChild,f=(n.duplicateOffer,n.showNewOffer),u=n.showExpiringOffers,d=n.expiringOfferCount,m=n.DOShowThanksMessage,p=n.newOfferSorted,v=n.expiringSoonOfferSorted,h=n.expiringLaterOfferSorted,w=(n.allTypeOffer,n.allPreserveOffer,n.switchAuto,n.isNonDigitalUser),y=(n.isGetMoreDisplay,n.isNonDoWithNoOffer,n.isConvertedDo),b=(n.toggleNonDoPopup,n.isLoyaltyScanBonusesEarned),O=n.isChildDoEligible,E=this.state.profileInfo,S=E.offerPreferenceInfo,D=(E.children,this.aemData),j=D.currentOffers,T=D.retailer,C=D.purchaserOnlyOffer,L=void 0===C?{}:C,N=(D.scanModule,void 0!==S&&S.retailer?S.retailer:""),k=(ne(ne({},L),{},{href:""}),this.aemData.newOfferLabel1),A=this.aemData.scanModule.showScanModule,I=this.aemData.scanModule.scanModuleHeading,R=this.aemData.scanModule.scanModuleDesc,P=this.aemData.scanModule.scanModuleImage,M=re("#savingsCameraBtnTxt").val(),_="savingsCameraBtn",F="rear",U="camera-scan|click|pwa_open-camera-scan-button_savings-tab",Q=this.aemData.scanModule.congratsDesc1,Y=this.aemData.scanModule.congratsDesc2,X=this.aemData.scanModule.congratsTitle,Z=this.aemData.scanModule.disclaimerTxt2,$=this.aemData.scanModule.switchToDigitalTitle,K=this.aemData.scanModule.goDigitalBtnTxt,ee=this.aemData.scanModule.switchToDigitalDesc,ae=this.aemData.scanModule.disclaimerTxt1,oe=this.aemData.scanModule.disclaimerTxt3,ie=this.aemData.scanModule.offerTabFootnote,se=window.sessionStorage.getItem("switchToDigital"),le=window.sessionStorage.getItem("nonDo");function ce(){re(".nav-tabs a:eq(1)").tab("show")}return confirmCouponPopup=function(){r.state.toggleNonDoPopup=!0,r.setState(ne({},r.state)),setTimeout((function(){re("#pwa-confirm-non-do-popup").modal("show")}),200)},a.createElement(a.Fragment,null,this.state.toggleNonDoPopup?a.createElement("div",{className:"modal fade",id:"pwa-confirm-non-do-popup","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},a.createElement("div",{className:"modal-dialog"},a.createElement("div",{className:"modal-content"},a.createElement("div",{className:"modal-header"},a.createElement("img",{className:"close","data-dismiss":"modal","aria-label":"Close",src:"/content/dam/an/similac/global/icons/retailer/pwa-retailerpopup-close.png"})),a.createElement("div",{className:"modal-body"},a.createElement("p",{className:"pwa-popup-body-text"},this.aemData.scanModule.popUpTxt)),a.createElement("div",{className:"modal-footer"},a.createElement("button",{type:"button",className:"btn btn-secondary pwa-popup pwa-popup-no","data-gtm":"rewards|click|pwa_switch-to-digital_go-digital-confirm-no","data-dismiss":"modal"},this.aemData.scanModule.popUpNoBtnTxt),a.createElement("button",{type:"button",onClick:function(){return function(e){e&&e.preventDefault(),re("#pwa-confirm-non-do-popup").modal("hide");var t={headers:{"x-id-token":ABBOTT.utils.getSessionInfo()}};V(r.aemData.actionPath,{category:"digitalOffer",offerPreferenceInfo:{retailer:"TBUNIVERSAL",enableDigital:!0,channel:"website"}},t).then(function(){var e=(0,o.A)(g().mark((function e(t){var a,n,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.errorCode,n=t.status,0===a&&!0===n?(dataLayer.push({event:"ga-custom-events",eventCategory:"callout",eventAction:"click",eventLabel:"offers_convenient-savings_switch-to-digital-offers-promo-offer-page"}),r.setState({isNonDigitalUser:!1}),window.sessionStorage.removeItem("nonDo"),window.sessionStorage.setItem("switchToDigital",!0),window.sessionStorage.setItem("convertedToDo",!0),window.location.reload()):(o=B(a),re("#template.global-error p").html(o),re("#template").show(),re("html, body").animate({scrollTop:0},"slow"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(0,i.A)(e,1)[0];var t=B("GEN_ERR");re("#template.global-error p").html(t),re("#template").show(),re("#pwa-confirm-non-do-popup").modal("hide")}))}()},className:"btn btn-primary pwa-popup pwa-popup-yes","data-gtm":"rewards|click|pwa_switch-to-digital_go-digital-confirm-yes"},this.aemData.scanModule.popUpYesBtnTxt))))):null,p.length<1&&v.length<1&&a.createElement(a.Fragment,null,a.createElement("p",{className:"ribbonZeroOfferPWA"})),s&&p.length>0&&a.createElement(a.Fragment,null,a.createElement("p",{className:"ribbonPWA"},(u||f&&d)&&this.aemData.newOfferLabel+" ",!l&&f&&d&&" "+p.length+" "+k,u&&f&&d&&" "+this.aemData.expiringOfferLabel+" ",!l&&u&&v.length+" "+this.aemData.expiringOfferLabel1)),s&&p.length<1&&v.length>0&&a.createElement(a.Fragment,null,a.createElement("p",{className:"ribbonPWA"},!l&&u&&this.aemData.newOfferLabel+" "+v.length+" "+this.aemData.currentOffers.retailerAlreadySelected)),p.length<1&&v.length<1&&!(A&&!b&&!le&&N&&!se)&&!(w&&le)&&a.createElement(a.Fragment,null,a.createElement("p",{className:"pt-1"})),w&&le&&O?a.createElement(H,{confirmCouponPopup:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return confirmCouponPopup()})),switchToDigitalTitle:$,switchToDigitalDesc:ee,switchToDigitalBtn:K}):null,O||N?null:a.createElement(te,{showRewardsTab:function(){return ce()},scanModuleHeading:I,scanModuleDesc:R,scanModuleImage:P,scanButtonLabel:M,scanButtonClass:_,scanFacingMode:F,scanGtm:U}),y?a.createElement(W,{congratsDisclaimer:Z,congratsDesc1:Q,congratsDesc2:Y,congratsTitle:X}):null,A&&!b&&!le&&N&&!se&&a.createElement(a.Fragment,null,a.createElement(te,{showRewardsTab:function(){return ce()},scanModuleHeading:I,scanModuleDesc:R,scanModuleImage:P,scanButtonLabel:M,scanButtonClass:_,scanFacingMode:F,scanGtm:U})),s&&(p.length>0||v.length>0||h.length>0)&&!se&&!le&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row mx-0 offer-cards-wrapper"},a.createElement("div",{className:"card-offer-wrap col-12 col-lg-4 "},a.createElement("div",{className:"pwa-sort-coupon"},a.createElement(x,{key:1,label:"Sort By",options:[{label:"Expiration Date",value:"offerExpiryDate:DESC"},{label:"Coupon Value",value:"offerValue:ASC"},{label:"My Redeemed",value:"type:DESC"}],placeholder:"Sort By",isSearchable:!1,handleChange:this.sortingCoupon}))))),p.length<1&&v.length<1&&h.length<1&&m&&!se&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row mx-0 mt-3 offer-cards-wrapper"},a.createElement("div",{className:"card-offer-wrap col-12 col-lg-4 "},a.createElement("div",{className:"pwa-noCoupon"},a.createElement("div",{className:"pwa-noCouponMsgTitle"},null==this||null===(e=this.aemData)||void 0===e?void 0:e.DOThanksMessage),a.createElement("div",{className:"pwa-noCouponMsg",dangerouslySetInnerHTML:{__html:null==this||null===(t=this.aemData)||void 0===t?void 0:t.goToOfferPageText}}))))),s&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row mx-0 offer-cards-wrapper"},this.state.allTypeOffer.map((function(e,t){if("NEWOFFER"==e.type)return a.createElement(a.Fragment,null,a.createElement(z,{offerData:e,offerLabel:j,retailerLabel:T,storeCoupon:function(e,t){return r.storeCoupon(e,t)},submitMarkRedeem:function(a,n){return r.submitMarkRedeem("newOfferSorted",a,n,e,t)}}));if("EXPIRINGLATER"==e.type){if("target"===e.offerRetailer.toLowerCase())return a.createElement(a.Fragment,null,e.isActiveCode?a.createElement(q,{offerData:e,offerLabel:j,retailerLabel:T,aemData:r.aemData.actionPath,barCode:r.aemData.barCodeGenerate,submitMarkRedeem:function(a,n){return r.submitMarkRedeem("expiringLaterOfferSorted",a,n,e,t)},showMark:!0}):a.createElement(G,{currentOffers:j,isEnableOffer:function(){return r.isEnableOffer("expiringLaterOfferSorted",e,t)},offerActivated:function(){return r.offerActivated(e)}}));if("amazon"===e.offerRetailer.toLowerCase()||"tpg"===e.offerRetailer.toLowerCase())return a.createElement(a.Fragment,null,e.isActiveCode?a.createElement(z,{offerData:e,offerLabel:j,retailerLabel:T,submitRedeem:function(e,t){return r.submitRedeem(e,t)},submitMarkRedeem:function(a,n){return r.submitMarkRedeem("expiringLaterOfferSorted",a,n,e,t)},showMark:!0}):a.createElement(G,{currentOffers:j,isEnableOffer:function(){return r.isEnableOffer("expiringLaterOfferSorted",e,t)},offerActivated:function(){return r.offerActivated(e)}}))}else if("EXPIRINGSOON"==e.type)return"target"===e.offerRetailer.toLowerCase()?a.createElement(a.Fragment,null,e.isActiveCode?a.createElement(q,{offerData:e,offerLabel:j,retailerLabel:T,aemData:r.aemData.actionPath,barCode:r.aemData.barCodeGenerate,submitMarkRedeem:function(a,n){return r.submitMarkRedeem("expiringSoonOfferSorted",a,n,e,t)},showMark:!0}):a.createElement(G,{currentOffers:j,isEnableOffer:function(){return r.isEnableOffer("expiringSoonOfferSorted",e,t)},offerActivated:function(){return r.offerActivated(e)}})):a.createElement(a.Fragment,null,e.isActiveCode?a.createElement(z,{offerData:e,offerLabel:j,retailerLabel:T,submitRedeem:function(e,t){return r.submitRedeem(e,t)},submitMarkRedeem:function(a,n){return r.submitMarkRedeem("expiringSoonOfferSorted",a,n,e,t)},showMark:!0}):a.createElement(G,{currentOffers:j,isEnableOffer:function(){return r.isEnableOffer("expiringSoonOfferSorted",e,t)},offerActivated:function(){return r.offerActivated(e)}}))}))),a.createElement("p",{className:"profile__border-smalt ".concat(N&&c?"":"d-none")})),w&&le&&O&&!(p.length>0||v.length>0||h.length>0)?a.createElement(J,{switchToDigitalDisclaimer:ae}):null,w&&le&&O&&(p.length>0||v.length>0||h.length>0)?a.createElement(J,{switchToDigitalDisclaimer:oe}):null,w&&le&&O||!(p.length>0||v.length>0||h.length>0)?null:a.createElement("div",null,a.createElement("div",{className:"do-footer",dangerouslySetInnerHTML:{__html:ie}})))}}])}(a.Component);document.addEventListener("DOMContentLoaded",(function(){le&&n.render(a.createElement(se,{aemData:myOffers_label}),le)}),!1);var le=document.getElementById("my_offers_pwa")},35358:function(e,t,r){var a={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id=35358},71962:function(e,t,r){var a,n,o=r(41669);(a=window).ABBOTT||(a.ABBOTT={}),a.ABBOTT.config={getEndpointUrl:function(e){var t,r=n.BASE;return r?("BASE"===e?t=r:n[e]?t=r+n[e]:(console.warn("Endpoint URL not available"),t=null),t):new Error("Base URL not available for the store!!")},storeName:(n={BASE:o("#store-base-url").val(),STORE:o("#store-name").val(),BASESECURE:o("#page-store-url").val(),GRAPH_QL:"/graphql"}).STORE,storeUrl:n.BASE,storeSecureUrl:n.BASESECURE}},61615:function(e,t,r){var a=r(41669),n=r(41669);!function(e){e.ABBOTT||(e.ABBOTT={});var t=e.ABBOTT,r=function(){};r.prototype.makeAjaxCall=function(e,t){var r;!!t||(r=window.setTimeout((function(){a("#overlay").show()}),2e3));var o={method:"GET",dataType:"json"};return o=n.extend({},o,e),e.url?n.ajax(o).done((function(e){return window.clearTimeout(r),a("#overlay").hide(),e})).fail((function(e){return a("#overlay").hide(),window.clearTimeout(r),e})):n.error("Please pass URL for the Ajax call")},t.getParams=function(e){var t={};document.createElement("a").setAttribute("href",e);var r=DOMPurify.sanitize("parser",{IN_PLACE:!0});document.appendChild(r);for(var a=r.search.substring(1).split("&"),n=0;n<a.length;n++){var o=a[n].split("=");t[o[0]]=decodeURIComponent(o[1])}return t},t.http=new r}(window)},41669:function(e){"use strict";e.exports=jQuery}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=a,e=[],o.O=function(t,r,a,n){if(!r){var i=1/0;for(f=0;f<e.length;f++){r=e[f][0],a=e[f][1],n=e[f][2];for(var s=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[l])}))?r.splice(l--,1):(s=!1,n<i&&(i=n));if(s){e.splice(f--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var f=e.length;f>0&&e[f-1][2]>n;f--)e[f]=e[f-1];e[f]=[r,a,n]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var n=Object.create(null);o.r(n);var i={};t=t||[null,r({}),r([]),r(r)];for(var s=2&a&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((function(t){i[t]=function(){return e[t]}}));return i.default=function(){return e},o.d(n,i),n},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o.j=1948,function(){var e={1948:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,i=r[0],s=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(l)var f=l(o)}for(t&&t(r);c<i.length;c++)n=i[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(f)},r=self.webpackChunksimilac_2019_html=self.webpackChunksimilac_2019_html||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var i=o.O(void 0,[6361],(function(){return o(23935)}));i=o.O(i)}();