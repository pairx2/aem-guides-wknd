!function(){var e,t,r,a={83018:function(e,t,r){"use strict";r(27461);var a=r(96540),n=r(40961),o=r(3453),s=r(23029),l=r(92901),i=r(50388),c=r(53954),f=r(15361),m=r(64467),d=r(95093),u=r.n(d),p=r(10467),g=r(82284),b=r(80045),h=r(54756),v=r.n(h),y=(r(71962),r(61615),r(41669)),j=["headers"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,m.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=r(76459),S=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(t){return t.errorCode.toString().trim()===String(e).toString()}))},T=function(e){var t=(window.errorCodeData||{}).errorCodeInfo,r=S(e,void 0===t?[]:t);return r?r.errorMessage:""},x=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=window.errorCodeData,a=(void 0===r?{}:r).errorCodeInfo,n=void 0===a?[]:a;if("function"==typeof t.done&&"function"==typeof t.fail&&"function"==typeof t.always){var o=t.status,s=t.responseJSON,l=e(void 0===s?{}:s),i=l.errorMessage;return(void 0===i?"":i)?l:S(o,n)}if("object"===(0,g.A)(t)){var c=t.errorCode,f=t.message,m=void 0===f?"":f,d=t.response,u=void 0===d?{}:d,p=u.statusReason,b=void 0===p?"":p,h=u.i18nMessageKey,v=void 0===h?"":h,y=v&&S(v,n);if(y)return y;if(b)return{errorMessage:b,errorCode:v};if(m)return{errorMessage:m,errorCode:""};if(c){var j=S(c,n);if(j)return j}return{}}return("string"==typeof t||"number"==typeof t)&&S(t,n)||{}},C=function(e,t){return new Promise((function(r,a){var n=function(e){var t=e.headers,r=void 0===t?{}:t,a=(0,b.A)(e,j),n={async:!0,crossDomain:!0,method:"POST",headers:O({"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","cache-control":"no-cache",Store:window.ABBOTT.config.storeName},r),processData:!1,contentType:"application/json"};return O(O({},n),a)}(e),o=t;ABBOTT.http.makeAjaxCall(n,o).done((function(e){r(e)})).fail((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a(t)}))}))},L=function(e){var t={};return(0,p.A)(v().mark((function r(){var a,n=arguments;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=JSON.stringify(n),t[a]=t[a]||e.apply(this,n),r.abrupt("return",t[a]);case 3:case"end":return r.stop()}}),r,this)})))},_=(w(L((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";y(".field-loader").show();var a=e||"https://ow278jgus1.execute-api.us-east-1.amazonaws.com/dev/api/registration/verify-email-exists",n=JSON.stringify({userName:t,userType:"StrongMom",captchaValue:r});return C({url:a,data:n,async:!0},!0).then((function(e){y(".field-loader").hide();var t=e.status,r=void 0!==t&&t,a=e.response,n=void 0===a?{}:a,o=e.errorCode;return!r||0!==o||(!!n.loginIdentity||void 0)})).catch((function(e){var t=e.jqXHR,r=void 0===t?{}:t;y(".field-loader").hide();var a=r.status,n=(x(a)||{}).errorMessage;return void 0===n?"Sorry, Error in verification":n}))})),750),w(L((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e||"https://ow278jgus1.execute-api.us-east-1.amazonaws.com/dev/api/registration/verify-email-exists",a=JSON.stringify({userName:t,userType:"StrongMom"});return C({url:r,data:a},!0).then((function(e){var t=e.status,r=void 0!==t&&t,a=e.response;return r?!!(void 0===a?{}:a).loginIdentity||void 0:"Sorry invalid email"})).catch((function(e){var t=e.jqXHR,r=(void 0===t?{}:t).status,a=(x(r)||{}).errorMessage;return void 0===a?"Sorry, Error in verification":a}))})),750),function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e,n="";t&&(n=JSON.stringify(t));var o=O({url:a,data:n,async:!0},r);return C(o)}),k=function(e){var t=e.offerData,r=e.offerLabel;t.offerRetailer=t.assignedOfferRetailer?t.assignedOfferRetailer:t.offerRetailer,t.offerExpiryDate=t.assignedOfferExpiryDate?t.assignedOfferExpiryDate:t.offerExpiryDate,t.offerCode=t.assignedOfferCode?t.assignedOfferCode:t.offerCode,t.offerValue=t.assignedOfferValue?t.assignedOfferValue:t.offerValue,t.offerType=t.assignedOfferType?t.assignedOfferType:t.offerType;var n,o,s=u()(t.offerExpiryDate),l=u()(),i=s.diff(l,"days"),c="amazon"===t.offerRetailer.toLowerCase(),f="tbuniversal"===t.offerRetailer.toLowerCase()&&"universaldo"===t.offerType.toLowerCase(),m="tbuniversal"===t.offerRetailer.toLowerCase()&&"gguniversaldo"===t.offerType.toLowerCase(),d="tpg"===t.offerRetailer.toLowerCase()&&"tpgbogo12do"===t.offerType.toLowerCase(),p="tpg"===t.offerRetailer.toLowerCase(),g=[];(r.tpgOffers.map((function(e){e.offerType===t.offerType.toLowerCase()&&(g=e)})),c)?(o=5===t.offerValue?r.saveFiveImgUrl:r.saveTenImgUrl,n=r.amazonOffer):p?(o=g.tpgOfferImage,n=g):f?(o=r.tpgImgUrl,n=r.unassignedOffer):m&&(o=r.ggImgUrl,n=r.unassignedOffer);return a.createElement("div",{className:"card-offer-wrap col-12 col-md-6 col-lg-4 mb-4"},a.createElement("div",{className:"card card-offer text-center px-2 h-100 bg-alice-blue"},a.createElement("div",{className:"card-body"},a.createElement("div",{className:"mb-0_5"},d?a.createElement(a.Fragment,null,a.createElement("h4",{className:"font-brandon-bold font-title-bogo-offer text-smalt"},a.createElement("span",{dangerouslySetInnerHTML:{__html:n.title}})),a.createElement("p",{className:"font-brandon-bold font-text-offer-bogo text-smalt"},a.createElement("span",{dangerouslySetInnerHTML:{__html:n.subTitle}}),a.createElement("br",null),a.createElement("span",{className:"card-offer-earnPoints-bogo",dangerouslySetInnerHTML:{__html:null==r?void 0:r.earnPointsText}}))):a.createElement(a.Fragment,null,a.createElement("h4",{className:"font-brandon-bold font-title-offer text-smalt"},a.createElement("span",{dangerouslySetInnerHTML:{__html:n.title}}),t.offerValue&&n.showOfferValue&&" $"+t.offerValue,a.createElement("br",null),a.createElement("span",{className:"card-offer-earnPoints",dangerouslySetInnerHTML:{__html:null==r?void 0:r.earnPointsText}})),a.createElement("p",{className:"font-brandon-bold font-text-offer text-smalt"},a.createElement("span",{dangerouslySetInnerHTML:{__html:n.subTitle}}))),a.createElement("img",{src:o,className:"product-img w-100"}),(f||m)&&a.createElement(a.Fragment,null,a.createElement("a",{className:"btn btn-primary col-12  my-0_938","data-gtm":n.dataGtmLabel,onClick:function(){return e=r.retailerPageURL,a=t.offerCode,window.sessionStorage.setItem("couponCode",a),void(window.location=e);var e,a}},r.buttonLabelSelectRetailer)),c&&a.createElement("p",{className:"font-brandon-bold text-tangerine font-code-offer"},t.offerCode),!f&&!m&&a.createElement(a.Fragment,null,a.createElement("a",{className:"btn btn-primary col-12  my-0_938","data-gtm":r.dataGtmRedeemOffer,onClick:function(){return e.submitRedeem(c?r.amazonOffer.pageUrl:"https://"+t.offerCode,t.offerCode)}},r.buttonLabelRedeem),e.showMark&&a.createElement("a",{className:"btn btn-secondary col-12  my-0_938","data-gtm":r.dataGtmMarkRedeemed,onClick:function(){return e.submitMarkRedeem(c?r.amazonOffer.pageUrl:"https://"+t.offerCode,t.offerCode)}},r.buttonLabelMarkRedeem)),a.createElement("img",{src:c?r.amazonOffer.imgSMUrl:p?g.imgSMUrl:"",className:"retailer-img"}),(f||m)&&a.createElement(a.Fragment,null,a.createElement("p",{className:"footnote font-roboto-reg mb-2_938 text-smalt"}," ",a.createElement("span",{dangerouslySetInnerHTML:{__html:r.selectRetailerNote}})))),d?a.createElement(a.Fragment,null,a.createElement("div",{className:"footnote font-roboto-reg text-smalt"},a.createElement("p",null,a.createElement("span",{dangerouslySetInnerHTML:{__html:g.offerDisclaimer}})),a.createElement("br",null),a.createElement("p",null,a.createElement("span",{dangerouslySetInnerHTML:{__html:r.offerAvailableLabel}})," ",i," ",a.createElement("span",{dangerouslySetInnerHTML:{__html:r.moreDaysLabelBogo}})))):a.createElement(a.Fragment,null,a.createElement("div",{className:"footnote font-roboto-reg text-smalt position-bottom"},a.createElement("p",null,a.createElement("span",{dangerouslySetInnerHTML:{__html:r.offerAvailableLabel}})," ",i," ",a.createElement("span",{dangerouslySetInnerHTML:{__html:r.moreDaysLabel}})),p&&!d&&a.createElement("p",{class:"offer_disclaimer"},a.createElement("span",{dangerouslySetInnerHTML:{__html:g.offerDisclaimer}})),t.isHcpOffer&&f&&a.createElement("p",null,a.createElement("span",{dangerouslySetInnerHTML:{__html:r.hcpInfo.offerText}})))))))},A=function(e){var t=(0,a.useState)(!1),r=(0,o.A)(t,2),n=r[0],s=r[1],l=(0,a.useState)(!1),i=(0,o.A)(l,2),c=i[0],f=i[1],m=(0,a.useState)(""),d=(0,o.A)(m,2),p=d[0],g=d[1],b=(0,a.useState)(""),h=(0,o.A)(b,2),v=(h[0],h[1]),y=(0,a.useState)(""),j=(0,o.A)(y,2),E=j[0],O=j[1],w=e.offerData,S=e.offerLabel,T=(e.retailerLabel,e.aemData),x=e.barCode;w.offerRetailer=w.assignedOfferRetailer?w.assignedOfferRetailer:w.offerRetailer,w.offerExpiryDate=w.assignedOfferExpiryDate?w.assignedOfferExpiryDate:w.offerExpiryDate,w.offerCode=w.assignedOfferCode?w.assignedOfferCode:w.offerCode,w.offerValue=w.assignedOfferValue?w.assignedOfferValue:w.offerValue,w.offerType=w.assignedOfferType?w.assignedOfferType:w.offerType;var L,_,k,A;u()(w.offerExpiryDate),u()();L=S.newOfferTarget,w.offerType&&("target_cc"===w.offerType.toLowerCase()?k=!0:"target_bc"===w.offerType.toLowerCase()&&(A=!0));var N=function(e,t,r){var a={category:"redeemOffer",offerPreferenceInfo:{offerCode:t}},n={offerCode:t,type:"bar"},o={url:T,method:"POST",headers:{"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","x-id-token":ABBOTT.utils.getSessionInfo()},data:JSON.stringify(a)},l={url:x,method:"POST",headers:{"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","x-id-token":ABBOTT.utils.getSessionInfo()},data:JSON.stringify(n)};C(o).then((function(a){"online"===r?(!function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t)}(t),O(t),v(L.offerCriteriaOnline),s(!0)):"store"===r&&C(l).then((function(e){_="data:image/jpg;base64,"+e.response,g(_),O(t),v(L.offerCriteriaStore),f(!0)}),(function(t){console.log(t),console.log(e)}))}),(function(t){console.log(t),console.log(e)}))};return a.createElement(a.Fragment,null,a.createElement("div",{className:"card-offer-wrap col-12 col-md-6 col-lg-4 mb-4"},a.createElement("div",{className:"card card-offer text-center target h-100"},a.createElement("p",{className:"card-header"},a.createElement("span",{className:"col-6 text-white text-bg-mild-red font-weight-bold d-inline-block card-text-small border-red"},a.createElement("img",{src:S.couponLogo})),a.createElement("span",{className:"col-6 text-black font-weight-bold d-inline-block card-text-small border-black"},L.expiryTitle," ",u()(w.offerExpiryDate).format("MM/DD/YY"))),a.createElement("div",{className:"card-body"},a.createElement("img",{src:S.targetImgUrl,className:"w-100 mb-3 mt-3 posterImg"}),a.createElement("h4",{className:"font-weight-bold text-mild-red px-3"},a.createElement("span",{dangerouslySetInnerHTML:{__html:L.title}}),w.offerValue," ",a.createElement("br",null),a.createElement("span",{className:"card-offer-earnPoints",dangerouslySetInnerHTML:{__html:null==S?void 0:S.earnPointsText}}),a.createElement("br",null),a.createElement("span",{dangerouslySetInnerHTML:{__html:L.title1}})),a.createElement("p",{className:"font-weight-bold text-black mb-1 px-3"},a.createElement("span",{dangerouslySetInnerHTML:{__html:L.subTitle1}}),w.offerValue," ",a.createElement("span",{dangerouslySetInnerHTML:{__html:L.subTitle2}})),a.createElement("p",{className:"text-black card-text-small mb-0"},k?a.createElement("span",{dangerouslySetInnerHTML:{__html:L.offerCriteriaOnline}}):a.createElement("span",{dangerouslySetInnerHTML:{__html:L.offerCriteriaStore}})),!n&&!c&&a.createElement("div",{className:"offerClaimBtn mt-3"},k&&a.createElement("a",{className:"btn btn-primary col-12 mb-3","data-gtm":S.dataGtmRedeemOffer,onClick:function(){return N(S.newOfferTarget.pageUrl,w.offerCode,"online")}},S.buttonLabelRedeem),A&&a.createElement("a",{"data-gtm":S.dataGtmRedeemOffer,className:"btn btn-primary col-12 mb-3",onClick:function(){return N(S.newOfferTarget.pageUrl,w.offerCode,"store")}},S.buttonLabelRedeem),e.showMark&&a.createElement("a",{className:"btn btn-secondary col-12 mb-3","data-gtm":S.dataGtmMarkRedeemed},S.buttonLabelMarkRedeem)),n&&!c&&a.createElement("div",{id:"promocode",className:"px-3 mt-3"},a.createElement("p",{className:"mb-0 font-weight-bold"},L.promoCodeTitle),a.createElement("p",{className:"text-mild-orange"},a.createElement("a",{onClick:function(){return e=L.pageUrl,void(navigator.platform.toLowerCase().match(/(mac|iphone|ipod|ipad)/)?window.open(e,"_self"):window.open(e,"_blank"));var e},className:"text-decoration-underline"},E)," ")),c&&!n&&a.createElement("div",{id:"barcode",className:"px-3"},a.createElement("p",{className:"mb-0 barCodeSection"},a.createElement("img",{src:p,width:"100%"})),a.createElement("p",{className:"card-text-small"}," ",E)),a.createElement("p",{className:"text-black card-text-small mb-2 px-3 text-left"},a.createElement("span",{dangerouslySetInnerHTML:{__html:L.offerDescription1}})," ","$",w.offerValue," ",a.createElement("span",{dangerouslySetInnerHTML:{__html:L.offerDescription2}}))))))},N=r(89394),R=r(36623),P=r.n(R),I=function(e){var t=e.retailer,r=e.retailerSelected,n=e.retailerName,o=e.retailerType,s=e.dataGtmSelectValue,l=e.isRetailerAvailable,i=n.toLowerCase(),c="";c="amazon"===i?r.retailerOption.amazon:"tpg"===i?r.retailerOption.tpg:"target"===i&&"TARGET_CC"===o?r.retailerOption.targetonline:r.retailerOption.targetoffline;var f=s+"-yes",m=s+"-no";return a.createElement(a.Fragment,null,l?a.createElement("div",{className:"col-12 col-md-6 mb-2_813 retailer-select-card selected-retailer-card"},a.createElement("div",{className:"row bg-alice-blue py-1_875 mx-0 h-100"},a.createElement("div",{className:"col-12 col-md-12 col-lg-12 pl-1 py-1"},a.createElement("p",{className:"font-arial text-white mb-1_25"},t.retailerSelected.selectedRetailer," ",c),a.createElement("p",{className:"font-arial text-white mb-1_25"},t.retailerSelected.selectedRetailerNote)),a.createElement("div",{className:"col-12 col-md-6 col-lg-6 selectBtnContainer"},a.createElement("a",{className:"col-md-6 col-xs-12 col-lg-6  my-0_938 btnCancelSelection","data-gtm":m,onClick:e.isEnableOffer},t.retailerSelected.cancelButtonLabel),a.createElement("a",{className:"btn btn-primary col-md-3 col-xs-12 col-lg-3  my-0_938 btnSelect","data-gtm":f,onClick:e.offerActivated},t.retailerSelected.submitButtonLabel)))):null)};var D=function(e){var t=e.currentOffers.markAsRedeemed,r=t.dataGtmLabel+"-yes",n=t.dataGtmLabel+"-no";return a.createElement(a.Fragment,null,a.createElement("div",{className:"Fill"},a.createElement("p",{className:"Do-you-want-to-mark"},t.redeemSelection,a.createElement("br",null),a.createElement("br",null),t.redeemNote),a.createElement("a",{className:"btn btn-secondary col-12 mt-3","data-gtm":r,style:{background:"#fff",cursor:"pointer"},onClick:e.offerActivated},t.submitRedeemLabel),a.createElement("a",{href:"javscript:void(0)",className:"No","data-gtm":n,onClick:e.isEnableOffer},t.cancelRedeemLabel)))},M=r(41669);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,m.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return t=(0,c.A)(t),(0,i.A)(e,H()?Reflect.construct(t,r||[],(0,c.A)(e).constructor):t.apply(e,r))}function H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(H=function(){return!!e})()}var F=function(e){function t(e){var r;return(0,s.A)(this,t),r=z(this,t,[e]),(0,m.A)(r,"checkLocalData",(function(e){return window.sessionStorage.getItem(e)})),(0,m.A)(r,"updateSession",(function(e,t,a,n){var o=r.checkLocalData(t+"___API"),s="",l="";if(o)l={categoryType:"offerPreferenceInfo",name:"retailer",value:e},(s=JSON.parse(o)).push(l),window.sessionStorage.setItem(t+"___API",JSON.stringify(s));else if(o||"retailerOnline"!==a){if(!o&&"retailerOffline"===a){var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=P()(e),r=t.reduce((function(e,r){if(this.isLeaf){var a=this.path,n=a.length,o=null,s=this.key,l=r;if(n>1&&Array.isArray(this.parent.node)){if(!isNaN(a[n-1])&&parseInt(a[n-1],10)>=1)return e;s=a[n-2],l=(0,N.A)(this.parent.node)}if(n>=2&&"object"===(0,g.A)(this.parent.node)){var i=(0,N.A)(this.path);i.length=n-2;var c=t.get(i);o=Array.isArray(c)?i.pop()+"[]":this.path[n-2]}e.push({value:l,name:s,path:this.path,categoryType:o})}return e}),[]),a="address",n=[a,"lineOne","city","state","zipCode","zip"],o=!1,s=r.filter((function(e){var t=e.name,r=void 0===t?"":t;return r===a&&(o=!0),n.includes(r)}));if(!o){var l={};s.map((function(e){var t=e.name,r=e.value;l[t]=r})),(l.lineOne||l.city||l.state)&&r.push({name:a,value:"".concat(l.lineOne||"",", ").concat(l.city||"",", ").concat(l.state||"",", ").concat(l.zipCode||l.zip||""),type:"googleApi"})}return r}(n);window.sessionStorage.setItem(t+"___API",JSON.stringify(i)),o=r.checkLocalData(t+"___API"),l={categoryType:"offerPreferenceInfo",name:"retailer",value:e},(s=JSON.parse(o)).push(l),window.sessionStorage.setItem(t+"___API",JSON.stringify(s))}}else s=l={offerPreferenceInfo:{retailer:e,enableDigital:!0,channel:"email"},category:"digitalOffer"},window.sessionStorage.setItem("Sign In Form___API",JSON.stringify(s))})),(0,m.A)(r,"getProfileID",(function(){var e="?"+window.location.href.split("?")[1],t=new URLSearchParams(e),r=t.get("memberId")||t.get("Id")||t.get("id");if(r){var a=new Buffer(r,"base64");return(a=a.toString()).split("|")[0]}return r})),(0,m.A)(r,"getProfileInfo",(function(){var e={url:r.aemData.actionPathGetProfile,method:"GET",headers:{"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","x-id-token":ABBOTT.utils.getSessionInfo()}};C(e).then((function(e){e.status&&r.setState({profileInfo:e.response,offerCode:e.response.offerPreferenceInfo.offerCode,showPaper:!e.response.offerPreferenceInfo.enableDigital})}))})),(0,m.A)(r,"selectRetailer",(function(e){var t=r.state.retailer;r.state.selectedKey=e,Object.keys(t.retailersList).forEach((function(r){t.retailersList[r].isAvailable&&(t.retailersList[r].isActive=r!=e)})),r.setState(U({},r.state))})),(0,m.A)(r,"submitPaperOffer",(function(){if(ABBOTT.gtm.buildAndPush.formTracking("retailer-connect","click","digital-offers_stay-paper-check"),ABBOTT.utils.isUserLoggedIn()){var e={url:r.aemData.actionPath,method:"POST",headers:{"content-type":"application/json","x-country-code":"US","x-application-id":"similac","x-preferred-language":"en-US","x-id-token":ABBOTT.utils.getSessionInfo()}};C(e).then((function(e){return window.location.href=r.aemData.myOfferPageUrl+"#thanksPaper",e}),(function(e){console.log(e)}))}else window.location.href=r.aemData.loginPageUrl})),(0,m.A)(r,"isEnableOffer",(function(e){r.state.retailer.retailersList[e].isActive=!r.state.retailer.retailersList[e].isActive,r.state.selectedKey=null,r.setState(U({},r.state))})),(0,m.A)(r,"offerActivated",(function(e,t,a){M("#template").hide();var n=r.aemData.actionPath,o=sessionStorage.getItem("couponCode"),s={offerPreferenceInfo:{retailer:a,offerType:t,offerCode:o},category:"universalOffer"},l=r.checkLogin();_(n,s,{headers:{"x-id-token":l}}).then((function(e){var t=e.errorCode,a=e.status,n=e.response;if(0===t&&!0===a)r.setState({assignedRetailer:e.response,isActiveCode:!0}),o.includes("HCP")&&r.setState((function(e){return{assignedRetailer:U(U({},e.assignedRetailer),{},{isHcpOffer:!0})}}));else if(400===t&&!0===a&&"UP-1007"===n.i18nMessageKey){var s=T("UP-1007");M("#template.global-error p").html(s),M("#template").show(),window.scrollTo({top:0,left:0,behavior:"smooth"})}else if(400===t&&!0===a&&"UP-1008"===n.i18nMessageKey){var l=T("UP-1008");M("#template.global-error p").html(l),M("#template").show(),window.scrollTo({top:0,left:0,behavior:"smooth"})}else if(500===t&&!1===a&&"500"===n.i18nMessageKey){var i=T("UO-500");M("#template.global-error p").html(i),M("#template").show(),window.scrollTo({top:0,left:0,behavior:"smooth"})}else{var c=T("500");M("#template.global-error p").html(c),M("#template").show(),window.scrollTo({top:0,left:0,behavior:"smooth"})}}),(function(e){console.log(e)}))})),(0,m.A)(r,"submitRedeem",(function(e,t){var a=document.createElement("input");a.value=t,document.body.appendChild(a),a.select(),a.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(a);var n={category:"redeemOffer",offerPreferenceInfo:{offerCode:t}},o={headers:{"x-id-token":ABBOTT.utils.getSessionInfo()}};_(r.aemData.actionPath,n,o).then((function(t){return r.getProfileInfo(),navigator.platform.toLowerCase().match(/(mac|iphone|ipod|ipad)/)?window.open(e,"_self"):window.open(e,"_blank"),t}),(function(e){}))})),(0,m.A)(r,"submitMarkRedeem",(function(){r.state.isActiveCode=!r.state.isActiveCode,r.setState(U({},r.state))})),(0,m.A)(r,"isConfirmMarkRedeem",(function(){r.setState({isActiveCode:!0})})),(0,m.A)(r,"offerRedeemActivated",(function(e){var t=sessionStorage.getItem("couponCode"),a={category:"markRedeem",offerPreferenceInfo:{offerCode:e.isHcpOffer?t:e.offerCode}},n={headers:{"x-id-token":ABBOTT.utils.getSessionInfo()}};_(r.aemData.actionPath,a,n).then((function(e){var t=e.errorCode,a=(e.response,e.status);0===t&&!0===a&&(window.location.href=r.aemData.myOfferPageUrl)})).catch((function(e){(0,o.A)(e,1)[0];if(500===result.errorCode){var t=T("GEN_ERR");M("#template.global-error p").html(t),M("#template").show(),M("html, body").animate({scrollTop:0},"slow")}else r.setState({formError:T(result.errorCode)})}))})),r.aemData=e.aemData,Object.keys(r.props.aemData.retailer.retailersList).forEach((function(e){r.props.aemData.retailer.retailersList[e].isActive=!0})),r.state=(0,m.A)((0,m.A)((0,m.A)({retailer:"",profileInfo:{},retailerError:!1,nonDOEligibleUser:!1,offerCode:"",showPaper:!0},"retailer",r.props.aemData.retailer),"selectedKey",null),"assignedRetailer",null),r.checkLogin=r.checkLogin.bind(r),r}return(0,f.A)(t,e),(0,l.A)(t,[{key:"checkLogin",value:function(){return ABBOTT.cookie("x-id-token")}},{key:"componentDidMount",value:function(){ABBOTT.utils.isUserLoggedIn()&&this.getProfileInfo()}},{key:"render",value:function(){var e=this,t=this.aemData,r=this.state,n=r.retailerError,o=(r.showPaper,r.nonDOEligibleUser),s=r.retailer,l=t.currentOffers,i=t.actionPath,c=t.barCodeGenerate,f="";return this.state.assignedRetailer&&"target"===this.state.assignedRetailer.assignedOfferRetailer.toLowerCase()?f=this.state.isActiveCode?a.createElement(A,{offerData:this.state.assignedRetailer,offerLabel:l,retailerLabel:s,aemData:i,barCode:c,submitRedeem:function(t,r){return e.submitRedeem(t,r)},submitMarkRedeem:this.submitMarkRedeem,showMark:!1}):a.createElement(D,{currentOffers:l,isEnableOffer:this.isConfirmMarkRedeem,offerActivated:function(){return e.offerRedeemActivated(e.state.assignedRetailer)}}):(this.state.assignedRetailer&&"amazon"===this.state.assignedRetailer.assignedOfferRetailer.toLowerCase()||this.state.assignedRetailer&&"tpg"===this.state.assignedRetailer.assignedOfferRetailer.toLowerCase())&&(f=this.state.isActiveCode?a.createElement(k,{offerData:this.state.assignedRetailer,offerLabel:l,retailerLabel:s,submitRedeem:function(t,r){return e.submitRedeem(t,r)},submitMarkRedeem:this.submitMarkRedeem,showMark:!1}):a.createElement(D,{currentOffers:l,isEnableOffer:this.isConfirmMarkRedeem,offerActivated:function(){return e.offerRedeemActivated(e.state.assignedRetailer)}})),a.createElement(a.Fragment,null,t&&a.createElement(a.Fragment,null,null==this.state.assignedRetailer?a.createElement(a.Fragment,null,a.createElement("p",{className:"heading"},s.title),a.createElement("p",{className:"subheading"},s.retailerNote),a.createElement("div",{className:"row",id:"retailer-option"},Object.keys(s.retailersList).map((function(t){return a.createElement(a.Fragment,null,s.retailersList[t].isActive?a.createElement("div",{className:"col-12 col-md-6 mb-2_813 retailer-select-card"},a.createElement("div",{className:s.retailersList[t].isAvailable?"row bg-alice-blue py-1_875 mx-0 h-100":"row bg-gray-card py-1_875 mx-0 h-100"},a.createElement("div",{className:"col-6 col-md-5 col-lg-4"},a.createElement("img",{src:s.retailersList[t].imgUrl,className:"w-100"})),a.createElement("div",{className:"col-6 col-md-7 col-lg-7 pl-0 py-1"},s.retailersList[t].isAvailable?a.createElement(a.Fragment,null,a.createElement("p",{className:"font-roboto-bold text-smalt mb-1_25"},s.retailersList[t].label),a.createElement("p",{className:"font-roboto-regular text-smalt mb-1_25 retailer-desc"},s.retailersList[t].retailerDescription),a.createElement("a",{href:"javascript:void(0)",className:"font-brandon-bold text-tangerine select-retailer","data-gtm":s.retailersList[t].dataGtmLabel,onClick:function(){return e.selectRetailer(t)}},s.selectRetailerLabel)):a.createElement(a.Fragment,null,a.createElement("p",{className:"font-roboto-bold text-smalt mb-1_25"},s.retailersList[t].lineOneTxt),a.createElement("p",{className:"font-roboto-bold text-smalt mb-1_25"},s.retailersList[t].lineTwoTxt))))):a.createElement(I,{retailer:s,retailersList:s.retailersList,retailerName:s.retailersList[t].value.toString(),retailerType:s.retailersList[t].offerType.toString(),dataGtmSelectValue:s.retailersList[t].dataGtmSelectLabel,retailerSelected:s.retailerSelected,isEnableOffer:function(){return e.isEnableOffer(t)},isRetailerAvailable:s.retailersList[t].isAvailable,offerActivated:function(){return e.offerActivated(t,s.retailersList[t].offerType,s.retailersList[t].value)}}))})))):null,n&&a.createElement("p",{className:"font-roboto-reg text-error"},s.error),o&&a.createElement("p",{className:"font-roboto-reg text-error"},this.aemData.errorUpdateProfileNonDOUser),this.state.assignedRetailer?f:null,a.createElement("p",null,a.createElement("a",{className:"font-roboto-reg text-tangerine d-flex mb-2_813 select-paper",href:t.myOfferPageUrl},t.goToOfferPageText))))}}])}(a.Component);document.addEventListener("DOMContentLoaded",(function(){G&&n.render(a.createElement(F,{aemData:retailerSelection_label}),G)}),!1);var G=document.getElementById("select_retailer")},35358:function(e,t,r){var a={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function n(e){var t=o(e);return r(t)}function o(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=o,e.exports=n,n.id=35358},71962:function(e,t,r){var a,n,o=r(41669);(a=window).ABBOTT||(a.ABBOTT={}),a.ABBOTT.config={getEndpointUrl:function(e){var t,r=n.BASE;return r?("BASE"===e?t=r:n[e]?t=r+n[e]:(console.warn("Endpoint URL not available"),t=null),t):new Error("Base URL not available for the store!!")},storeName:(n={BASE:o("#store-base-url").val(),STORE:o("#store-name").val(),BASESECURE:o("#page-store-url").val(),GRAPH_QL:"/graphql"}).STORE,storeUrl:n.BASE,storeSecureUrl:n.BASESECURE}},61615:function(e,t,r){var a=r(41669),n=r(41669);!function(e){e.ABBOTT||(e.ABBOTT={});var t=e.ABBOTT,r=function(){};r.prototype.makeAjaxCall=function(e,t){var r;!!t||(r=window.setTimeout((function(){a("#overlay").show()}),2e3));var o={method:"GET",dataType:"json"};return o=n.extend({},o,e),e.url?n.ajax(o).done((function(e){return window.clearTimeout(r),a("#overlay").hide(),e})).fail((function(e){return a("#overlay").hide(),window.clearTimeout(r),e})):n.error("Please pass URL for the Ajax call")},t.getParams=function(e){var t={};document.createElement("a").setAttribute("href",e);var r=DOMPurify.sanitize("parser",{IN_PLACE:!0});document.appendChild(r);for(var a=r.search.substring(1).split("&"),n=0;n<a.length;n++){var o=a[n].split("=");t[o[0]]=decodeURIComponent(o[1])}return t},t.http=new r}(window)},41669:function(e){"use strict";e.exports=jQuery},42634:function(){}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={id:e,loaded:!1,exports:{}};return a[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=a,e=[],o.O=function(t,r,a,n){if(!r){var s=1/0;for(f=0;f<e.length;f++){r=e[f][0],a=e[f][1],n=e[f][2];for(var l=!0,i=0;i<r.length;i++)(!1&n||s>=n)&&Object.keys(o.O).every((function(e){return o.O[e](r[i])}))?r.splice(i--,1):(l=!1,n<s&&(s=n));if(l){e.splice(f--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var f=e.length;f>0&&e[f-1][2]>n;f--)e[f]=e[f-1];e[f]=[r,a,n]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var n=Object.create(null);o.r(n);var s={};t=t||[null,r({}),r([]),r(r)];for(var l=2&a&&e;"object"==typeof l&&!~t.indexOf(l);l=r(l))Object.getOwnPropertyNames(l).forEach((function(t){s[t]=function(){return e[t]}}));return s.default=function(){return e},o.d(n,s),n},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o.j=7176,function(){var e={7176:0};o.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,s=r[0],l=r[1],i=r[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(a in l)o.o(l,a)&&(o.m[a]=l[a]);if(i)var f=i(o)}for(t&&t(r);c<s.length;c++)n=s[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(f)},r=self.webpackChunksimilac_2019_html=self.webpackChunksimilac_2019_html||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var s=o.O(void 0,[6361],(function(){return o(83018)}));s=o.O(s)}();