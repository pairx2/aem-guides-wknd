- DEF environmentType=$[env:AB_ACL_ENVIRONMENT_TYPE;default=STG]
- DEF lowerEnvList=:
     - DEV
     - QA

- user_config:

  - abbott-test-user:
  
    - name: abbott-test-user
      isMemberOf: base-abbott,contributor
      path: /home/users/platform
      password: $[secret:TEST_USER_PASSWORD]
           
- ace_config:

      - abbott-test-user:
      
        - IF ${containsItem(lowerEnvList, environmentType)}: 
            - path: /content
              permission: allow
              actions: read
              
            - path: /content/bts/global-reference
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/dam/bts/global-reference
              permission: allow
              actions: read,modify,create,delete

            - path: /content/dam/an/newsroom
              permission: allow
              actions: read,modify,create
              
            - path: /content/dam/an/oncology
              permission: allow
              actions: read,modify,create
              
            - path: /content/dam/an/therapeutics
              permission: allow
              actions: read,modify,create
              
            - path: /content/experience-fragments/bts/global-reference
              permission: allow
              actions: read,modify,create,delete
              
            - path: /conf
              permission: allow
              actions: read
              
            - path: /content/adc/freestyle
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/adc/sample
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/cv/cardiovascular
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/corp/domestichotspot
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/an/abbottnutrition/us/en/qa-automation
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/experience-fragments/an/abbottnutrition/us/en/global/qa_automation
              permission: allow
              actions: read,modify,create,delete

            - path: /content/an/juven/en/testingpage
              permission: allow
              actions: read,modify,create,delete 

        - IF ${startsWith(environmentType,'STG')}:
            - path: /content
              permission: allow
              actions: read
              
            - path: /content/bts/global-reference
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/dam/bts/global-reference
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/experience-fragments/bts/global-reference
              permission: allow
              actions: read,modify,create,delete
              
            - path: /conf
              permission: allow
              actions: read
              
            - path: /content/cv/cardiovascular
              permission: allow
              actions: read,modify,create,delete
              
            - path: /content/corp/domestichotspot
              permission: allow
              actions: read,modify,create
              
            - path: /content/dam/an/newsroom
              permission: allow
              actions: read,modify,create
              
            - path: /content/dam/an/oncology
              permission: allow
              actions: read,modify,create
              
            - path: /content/dam/an/therapeutics
              permission: allow
              actions: read,modify,create
              
            - path: /content/an/abbottnutrition/us/en/qa-automation
              permission: allow
              actions: read,modify,create,delete   
