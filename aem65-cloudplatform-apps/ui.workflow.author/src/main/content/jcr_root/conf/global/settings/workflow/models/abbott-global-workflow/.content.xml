<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:mix="http://www.jcp.org/jcr/mix/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:rep="internal"
    jcr:mixinTypes="[rep:AccessControllable]"
    jcr:primaryType="cq:Page">
    <jcr:content
        cq:lastModified="{Date}2022-03-30T22:28:35.487+05:30"
        cq:lastModifiedBy="admin"
        cq:lastReplicated="{Date}2022-02-14T19:23:36.921+05:30"
        cq:lastReplicated_publish="{Date}2022-02-14T19:23:36.921+05:30"
        cq:lastReplicatedBy="admin"
        cq:lastReplicatedBy_publish="admin"
        cq:lastReplicationAction="Activate"
        cq:lastReplicationAction_publish="Activate"
        cq:template="/libs/cq/workflow/templates/model"
        jcr:isCheckedOut="{Boolean}true"
        jcr:mixinTypes="[mix:versionable]"
        jcr:primaryType="cq:PageContent"
        jcr:title="Abbott Global Workflow"
        jcr:uuid="c125cc29-ff9d-47d3-96ac-dcab3a4df5ce"
        sling:resourceType="cq/workflow/components/pages/model"
        lastSynced="{Date}2022-03-30T22:28:40.253+05:30"
        workflowStages="[Assign Workflow to Group,First Approver,Approve Step,Identify Second Approver,Route to Second Approver,Approve Workflow Package]">
        <flow
            jcr:primaryType="nt:unstructured"
            sling:resourceType="foundation/components/parsys">
            <dynamic_participant
                jcr:created="{Date}2022-01-25T22:05:14.933-05:00"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-03-03T12:30:45.260+05:30"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Assign Workflow"
                sling:resourceType="cq/workflow/components/model/dynamic_participant">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    DIALOG_PATH="/apps/abbott-cloudplatform/components/workflow/abbott-global-workflow/items/initialdialog/cq:dialog"
                    DYNAMIC_PARTICIPANT="/libs/workflow/scripts/initiator-participant-chooser.ecma"
                    workflowStage="Assign Workflow to Group"/>
            </dynamic_participant>
            <process_copy_copy
                jcr:created="{Date}2022-02-14T15:18:48.584+05:30"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-02-24T02:26:02.488+05:30"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Check for the second approver"
                sling:resourceType="cq/workflow/components/model/process">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    PROCESS="com.abbott.aem.cloud.platform.core.workflow.CheckSecondApproverStep"
                    PROCESS_AUTO_ADVANCE="true"/>
            </process_copy_copy>
            <dynamic_participant_409990995
                jcr:created="{Date}2022-01-25T22:08:31.196-05:00"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-02-22T05:38:52.361-06:00"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="First Approver"
                sling:resourceType="cq/workflow/components/model/dynamic_participant">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    DIALOG_PATH="/apps/abbott-cloudplatform/components/workflow/abbott-global-workflow/items/approvaldialog/cq:dialog"
                    DYNAMIC_PARTICIPANT="com.abbott.aem.cloud.platform.core.workflow.PublishWorkFlowApproverStep"
                    workflowStage="First Approver"/>
            </dynamic_participant_409990995>
            <or_copy
                jcr:created="{Date}2022-02-21T10:23:15.232-06:00"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-03-16T13:33:08.087+05:30"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Check for the second approver"
                sling:resourceType="cq/workflow/components/model/or"
                branches="2"
                branchName1="Branch 1"
                branchName2="Branch 2"
                branchOrder="[0,1]"
                orSplit="true"
                script1="function check(){&#xd;&#xa;var map = workflowData.getMetaDataMap();&#xd;&#xa;return(map.containsKey(&quot;secondassignment&quot;));&#xd;&#xa;}"
                script2="function check(){&#xd;&#xa;var map = workflowData.getMetaDataMap();&#xd;&#xa;return(!map.containsKey(&quot;secondassignment&quot;));&#xd;&#xa;}">
                <_x0031_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <process_copy
                        jcr:created="{Date}2022-02-14T15:18:48.584+05:30"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-02-22T05:39:16.358-06:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Change the current and next steps"
                        sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.abbott.aem.cloud.platform.core.workflow.ChangeCurrentNextSteps"
                            PROCESS_AUTO_ADVANCE="true"/>
                    </process_copy>
                    <dynamic_participant_
                        jcr:created="{Date}2022-01-25T22:27:31.413-05:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-02-24T11:17:57.266+05:30"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Second Approver"
                        sling:resourceType="cq/workflow/components/model/dynamic_participant">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            DIALOG_PATH="/apps/abbott-cloudplatform/components/workflow/abbott-global-workflow/items/secondapprovaldialog/cq:dialog"
                            DYNAMIC_PARTICIPANT="com.abbott.aem.cloud.platform.core.workflow.PublishWorkFlowSecondApproverStep"/>
                    </dynamic_participant_>
                    <process_copy_copy
                        jcr:created="{Date}2022-02-14T15:18:48.584+05:30"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-02-22T05:39:49.737-06:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Change the current step in Final Approval"
                        sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.abbott.aem.cloud.platform.core.workflow.ChangeCurrentStepInFinalApproval"
                            PROCESS_AUTO_ADVANCE="true"/>
                    </process_copy_copy>
                    <dynamic_participant__579432005
                        jcr:created="{Date}2022-01-27T00:09:38.467-05:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-03-04T10:36:00.872+05:30"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Final Approval"
                        sling:resourceType="cq/workflow/components/model/dynamic_participant">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            DIALOG_PATH="/apps/abbott-cloudplatform/components/workflow/abbott-global-workflow/items/finalapprovaldialog/cq:dialog"
                            DYNAMIC_PARTICIPANT="com.abbott.aem.cloud.platform.core.workflow.PublishWorkFlowSecondApproverStep"
                            timeoutMillis=" "/>
                    </dynamic_participant__579432005>
                </_x0031_>
                <_x0032_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <process_copy_copy_co
                        jcr:created="{Date}2022-02-14T15:18:48.584+05:30"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-02-22T05:39:49.737-06:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Change the current step in Final Approval"
                        sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.abbott.aem.cloud.platform.core.workflow.ChangeCurrentStepInFinalApproval"
                            PROCESS_AUTO_ADVANCE="true"/>
                    </process_copy_copy_co>
                    <dynamic_participant_
                        jcr:created="{Date}2022-01-27T00:09:38.467-05:00"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-03-04T10:36:24.270+05:30"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Final Approval"
                        sling:resourceType="cq/workflow/components/model/dynamic_participant">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            DIALOG_PATH="/apps/abbott-cloudplatform/components/workflow/abbott-global-workflow/items/finalapprovaldialog/cq:dialog"
                            DYNAMIC_PARTICIPANT="com.abbott.aem.cloud.platform.core.workflow.PublishWorkFlowApproverStep"
                            timeoutMillis=" "/>
                    </dynamic_participant_>
                </_x0032_>
            </or_copy>
            <dynamic_participant_
                jcr:created="{Date}2022-01-27T00:09:38.467-05:00"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-03-16T20:51:13.544+05:30"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Absolute Time Auto Advance "
                sling:resourceType="cq/workflow/components/model/dynamic_participant">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    DYNAMIC_PARTICIPANT="/libs/workflow/scripts/noop.ecma"
                    timeoutHandler="com.adobe.granite.workflow.console.timeout.autoadvance.AbsoluteTimeAutoAdvancer"
                    timeoutMillis="1"/>
            </dynamic_participant_>
            <process_853535622
                jcr:created="{Date}2022-03-30T22:27:39.220+05:30"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-03-30T22:28:35.452+05:30"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Replicate Referenced Assets"
                sling:resourceType="cq/workflow/components/model/process">
                <metaData
                    jcr:primaryType="nt:unstructured"
                    PROCESS="com.abbott.aem.cloud.platform.core.workflow.ReplicateReferencedAssets"
                    PROCESS_AUTO_ADVANCE="true"/>
            </process_853535622>
            <or_1027770355
                jcr:created="{Date}2022-01-25T22:28:50.683-05:00"
                jcr:createdBy="admin"
                jcr:lastModified="{Date}2022-02-14T17:07:10.723+05:30"
                jcr:lastModifiedBy="admin"
                jcr:primaryType="nt:unstructured"
                jcr:title="Final Step"
                sling:resourceType="cq/workflow/components/model/or"
                branches="2"
                branchName1="Activate"
                branchName2="Deactivate"
                branchOrder="[0,1]"
                orSplit="true"
                script1="function check(){&#xd;&#xa;var map = workflowData.getMetaDataMap();&#xd;&#xa;var type = map.get(&quot;workflowtype&quot;);&#xd;&#xa;return (type == &quot;activation&quot;);&#xd;&#xa;}"
                script2="function check(){&#xd;&#xa;var map = workflowData.getMetaDataMap();&#xd;&#xa;var type= map.get(&quot;workflowtype&quot;);&#xd;&#xa;return (type== &quot;deactivation&quot;);&#xd;&#xa;}">
                <_x0031_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <activateresourceproc
                        jcr:created="{Date}2022-01-25T22:28:56.997-05:00"
                        jcr:createdBy="admin"
                        jcr:description="A process to activate a page or asset"
                        jcr:lastModified="{Date}2022-01-25T22:28:56.997-05:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Activate Page/Asset"
                        sling:resourceType="wcm/workflow/components/workflow/activateresourceprocess">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.day.cq.wcm.workflow.process.ActivatePageProcess"
                            PROCESS_AUTO_ADVANCE="true"/>
                    </activateresourceproc>
                    <process
                        jcr:created="{Date}2022-03-03T16:31:00.040+05:30"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-03-16T19:51:12.927+05:30"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Activate Page"
                        sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.day.cq.wcm.workflow.process.ActivatePageProcess"
                            PROCESS_AUTO_ADVANCE="true"
                            timeoutMillis=" "/>
                    </process>
                </_x0031_>
                <_x0032_
                    jcr:primaryType="nt:unstructured"
                    sling:resourceType="cq/flow/components/parsys">
                    <deactivateresourcepr
                        jcr:created="{Date}2022-01-25T22:28:59.513-05:00"
                        jcr:createdBy="admin"
                        jcr:description="A process to deactivate a page or asset."
                        jcr:lastModified="{Date}2022-01-25T22:28:59.513-05:00"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Deactivate Page/Asset"
                        sling:resourceType="wcm/workflow/components/workflow/deactivateresourceprocess">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.day.cq.wcm.workflow.process.DeactivatePageProcess"
                            PROCESS_AUTO_ADVANCE="true"/>
                    </deactivateresourcepr>
                    <process
                        jcr:created="{Date}2022-03-03T16:39:10.561+05:30"
                        jcr:createdBy="admin"
                        jcr:lastModified="{Date}2022-03-16T19:50:45.667+05:30"
                        jcr:lastModifiedBy="admin"
                        jcr:primaryType="nt:unstructured"
                        jcr:title="Deactivate Page"
                        sling:resourceType="cq/workflow/components/model/process">
                        <metaData
                            jcr:primaryType="nt:unstructured"
                            PROCESS="com.day.cq.wcm.workflow.process.DeactivatePageProcess"
                            PROCESS_AUTO_ADVANCE="true"
                            timeoutMillis=" "/>
                    </process>
                </_x0032_>
            </or_1027770355>
        </flow>
    </jcr:content>
</jcr:root>
