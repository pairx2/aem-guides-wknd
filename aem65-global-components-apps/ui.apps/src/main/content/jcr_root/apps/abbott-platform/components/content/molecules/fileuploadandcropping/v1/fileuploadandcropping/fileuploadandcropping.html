<!--/* 
* Copyright (c)  Abbott Laboratories
* Program Name :  fileuploadandcropping.html
* Application  :  Abbott.ADC.FreeStyle US
* Purpose      :  See description
* Description  :  This is File Upload and Cropping component for Patient Stories
* Modification History:
* ---------------------
*    Date                                Modified by                                       Modification Description
*-----------                            ----------------                                    -------------------------
*  23-Dec-2021                				IBM                                              Initial Creation
*-----------                           ----------------                                      -------------------------

*/-->
<sly data-sly-use.fileUploader="com.abbott.aem.platform.common.components.models.FileUploader"
	data-sly-use.template="core/wcm/components/commons/v1/templates.html"
     data-sly-use.customConfig="com.abbott.aem.platform.common.components.models.CustomConfig"
     data-sly-use.component="com.adobe.cq.wcm.core.components.models.Component">     
     <div class="a-input-field mt-0 ${customConfig.className}"
          id="${component.id}" 
          data-js-component="file-upload"
          data-enable-cropping="${fileUploader.enableCropping ? 'true': 'false'}"
          data-image-min-width="${fileUploader.imageValidateSizeMinWidth}"
          data-image-min-height="${fileUploader.imageValidateSizeMinHeight}"
          data-max-file-size="${fileUploader.maxFileSize}"
          data-label-max-file-size="${fileUploader.labelMaxFileSize}"
          data-image-size-too-small="${fileUploader.imageValidateSizeLabelImageSizeTooSmall}"
          data-accepted-file-types="${fileUploader.acceptedFileTypes}"
          data-label-file-type-not-allowed="${fileUploader.labelFileTypeNotAllowed}"
          data-crop-width="${fileUploader.cropWidth}"
          data-crop-height="${fileUploader.cropHeight}">
          <div class="form-group a-form-grp">
               <input type="file" name="filepond" credits="false" />   
               <input type="hidden" name="uploaded-file" data-sly-test="${!fileUploader.enableCropping}">            
               <div class="m-file-uploader__filedetails d-none">
                    <p class="m-file-uploader__filedetails-label">${fileUploader.fileUploadedLabel}</p>
                    <div class="m-file-uploader__filename">
                         <em class="abt-icon ${fileUploader.fileCheckIcon}"></em>
                         <span class="m-file-uploader__name"></span>
                         <span class="m-file-uploader__size"></span>
                    </div>
                    <div class="m-file-uploader__removefile">
                         <em class="abt-icon ${fileUploader.removeIcon}"></em>
                         <div class="m-file-uploader__removelabel">${fileUploader.removeLabel}</div>
                    </div>
               </div>
               <div class="m-file-uploader__cropcontainer" data-sly-test="${fileUploader.enableCropping}">
                    <p class="m-file-uploader__croplabel">${fileUploader.croppingLabel}</p>
                    <div class="m-file-uploader__imgcontainer"></div>               
               </div>          
               <div data-sly-test="${fileUploader.enableCropping}" class="m-file-uploader__cropconfirm ${!wcmmode.edit ? 'd-none' : ''}"><sly data-sly-resource="${ 'button' @ resourceType=fileUploader.buttonProxyPath,decoration=true}"></sly></div>
               <div class="m-file-uploader__croppedimg"></div>
               <div class="form-text a-input-field--text-error"><em class="abt-icon abt-icon-exclamation"></em><span class="m-file-uploader__errormessage"></span></div>               
               <div class="m-file-uploader__labelElem d-none">
                    <div class="m-file-uploader__drag-drop"><em class="abt-icon ${fileUploader.uploaderIcon}"></em> ${fileUploader.dragAndDropText}</div>
                    <div class="m-file-uploader__label-ortext">${fileUploader.orText}</div>
                    <div class="filepond--label-action m-file-uploader__label-action">${fileUploader.fileSelectionText}</div>
               </div>
          </div>
     </div>
</sly>