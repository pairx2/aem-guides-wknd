<!--/* 
Each division/site should create the following clientlibs:
---------------------------------------------------------------------------------------------
FOLDER									|	CATEGORIES
---------------------------------------------------------------------------------------------
clientlibs-<clientlibsName> 			| abbott.<clientlibsName>
---------------------------------------------------------------------------------------------
**NOTE: If you want to further customize use <header|footer>libsextension.html
*/-->
<sly data-sly-use.clientLib="/libs/granite/sightly/templates/clientlib.html"
	data-sly-use.page="com.abbott.aem.platform.common.components.models.PlatformPage"
	data-sly-set.siteClientlib="abbott.${page.clientlibsName}"
	data-sly-set.preloadClientlib="abbott.${page.clientlibsName}-preload">
	<sly data-sly-test="${!page.jqueryVersion}">
		<sly data-sly-test="${wcmmode.disabled}" data-sly-call="${clientlib.all @ categories='granite.utils.custom'}" />
	</sly>

	<sly data-sly-test="${page.jqueryVersion}">
		<sly data-sly-test="${wcmmode.disabled}" data-sly-call="${clientlib.all @ categories=page.jqueryVersion}" />
	</sly>
</sly>
<script>
	(function (document, $) {
		"use strict";
		var locale = document.querySelector('[name="x-preferred-language"]').value;
		Granite.I18n.setLocale(locale.toLowerCase());
	})(document, Granite.$);
</script>
<sly data-sly-call="${clientlib.js @ categories='abbott.site'}"/>
<sly data-sly-call="${clientlib.js @ categories=preloadClientlib}" />
<sly data-sly-call="${clientlib.js @ categories='abbott.site-common'}"/>
<sly data-sly-call="${clientlib.js @ categories=siteClientlib}"/>
<sly data-sly-call="${clientlib.js @ categories=page.theme}"/>
<sly data-sly-include="footerlibsextension.html"/>
<sly data-sly-test="${page.trustArcCmpId}">
<div id="teconsent"></div>
<div id="consent-banner"></div>
<script>
document.body.addEventListener("click", function(event) {
if(event && event.target && event.target.id === 'truste-consent-button') {
setTimeout(() => { window.location.reload(); }, 1000);
} });
</script>
</sly>
